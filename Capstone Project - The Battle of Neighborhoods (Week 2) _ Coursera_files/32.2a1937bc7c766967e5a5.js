(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"/fGc":function(module,exports,e){},"0U4Y":function(module,exports,e){},"1Ovw":function(module,e,t){"use strict";t.d(e,"a",function(){return I});var r=t("pVnL"),n=t.n(r),a=t("lSNA"),o=t.n(a),s=t("VbXa"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("17x9"),d=t.n(l),p=t("MnCE"),m=t("ZzvC"),h=t("GnyC"),f=t("b+bd"),g=t("oQ9N"),v=t("VXRf"),y=t("ngyh"),b=t.n(y),S=t("UU2Q");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){o()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var E=function(e){function DiscussionsCurrentWeekLoader(){return e.apply(this,arguments)||this}var t;return i()(DiscussionsCurrentWeekLoader,e),DiscussionsCurrentWeekLoader.prototype.render=function render(){var e=this.props,t=e.weekNumber,r=e.forum,n=e.forumStatistic;if(!t||!r)return null;return u.a.createElement(m.a,{weekNumber:t,isLoading:!1,title:r.title,description:r.description,mostRecentThread:r.mostRecentThread,lastAnsweredAt:n&&n.lastAnsweredAt,forumQuestionCount:n&&n.forumQuestionCount})},DiscussionsCurrentWeekLoader}(u.a.Component),x=Object(p.compose)(Object(g.a)({fields:["link","title","forumType","description","lastAnsweredAt","forumQuestionCount"]}),Object(f.a)(["CourseStore","CourseScheduleStore","ProgressStore"],function(e,t){var r=e.CourseStore,n=e.CourseScheduleStore,a=e.ProgressStore,o;return{weekNumber:t.weekNumber||Object(h.a)(r,n,a)}}),Object(v.a)(function(e){var t=e.courseForums.find(function(t){return t.forumType.definition.weekNumber===e.weekNumber});return _objectSpread(_objectSpread({},e),{},{forum:t,forumStatistic:t&&e.courseForumStatistics&&e.courseForumStatistics.find(function(e){return e.courseForumId===t.id})})}))(E),I=function(e){function FluxibleDiscussionsAppLoader(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).fluxibleContext=void 0,t}i()(FluxibleDiscussionsAppLoader,e);var t=FluxibleDiscussionsAppLoader.prototype;return t.componentWillMount=function componentWillMount(){var e=this.context.fluxibleContext;this.fluxibleContext=Object(S.a)(e)},t.render=function render(){var e;return u.a.createElement(b.a,{context:null===(e=this.fluxibleContext)||void 0===e?void 0:e.getComponentContext()},u.a.createElement(x,n()({},this.props,{isCourseWeekPage:!0})))},FluxibleDiscussionsAppLoader}(u.a.Component);I.contextTypes={fluxibleContext:d.a.object}},"1a9E":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("3gBr"),i=function(e){function StandaloneEnrollModal(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={showModal:!0},t}n()(StandaloneEnrollModal,e);var t=StandaloneEnrollModal.prototype;return t.handleClose=function handleClose(){this.setState({showModal:!1})},t.render=function render(){var e=this,t=Object.assign({},this.props,{onClose:function onClose(){return e.setState({showModal:!1})}});return o.a.createElement("div",{className:"rc-StandaloneEnrollModal"},this.state.showModal&&o.a.createElement(s.a,t))},StandaloneEnrollModal}(o.a.Component);e.a=i},"1mAk":function(module,exports,e){var t=e("GaUn"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"2mdD":function(module,e,t){"use strict";t.d(e,"a",function(){return u});var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("JOyW"),i=t("lS+i"),c=t.n(i),u=function(e){function DiscussionsNotification(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:!0},t}n()(DiscussionsNotification,e);var t=DiscussionsNotification.prototype;return t.handleDismiss=function handleDismiss(){this.setState({isVisible:!1})},t.render=function render(){var e=this,t;return this.state.isVisible&&o.a.createElement("div",{className:"rc-WelcomeNotifications"},o.a.createElement(s.a,{trackingName:"subscribed_to_digest_notification",type:"info",message:c()("You have been successfully subscribed to the digest."),isDismissible:!0,onDismiss:function onDismiss(){return e.handleDismiss()}}))},DiscussionsNotification}(o.a.Component)},"3FHc":function(module,exports,e){var t=e("/fGc"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"3eOE":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("m8We"),u=t("+2ZD"),l=t("I7A3"),d=t("kvW3"),p=t("37kS"),m=t.n(p),h=function(e){function ContentRequiresEnrollModal(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClose=function(){t.props.onClose()},t}n()(ContentRequiresEnrollModal,e);var t=ContentRequiresEnrollModal.prototype;return t.getChildContext=function getChildContext(){var e;return{course:this.props.course}},t.render=function render(){return i.a.createElement("div",{className:"rc-ContentRequiresEnrollModal"},i.a.createElement(u.a,{type:"layer",key:"ContentRequiresEnrollModal",modalName:"Join to access course content",handleClose:this.handleClose},i.a.createElement("h1",null,i.a.createElement(d.b,{message:m()("Join {courseName}."),courseName:this.props.course.get("name")})),i.a.createElement("p",null,m()("Enroll to access this course content.")),i.a.createElement(c.a,null)))},ContentRequiresEnrollModal}(i.a.Component);h.propTypes={course:o.a.instanceOf(l.a).isRequired,onClose:o.a.func.isRequired},h.childContextTypes={course:o.a.instanceOf(l.a)},e.a=h},"3gP/":function(module,exports,e){var t=e("B8I4"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"3iT4":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("luxz"),u=t("I7A3"),l=function(e){function OpencourseEnrollModal(){return e.apply(this,arguments)||this}n()(OpencourseEnrollModal,e);var t=OpencourseEnrollModal.prototype;return t.getChildContext=function getChildContext(){var e;return{course:this.props.course}},t.render=function render(){var e=this.props.isPreEnroll;return i.a.createElement("div",{className:"rc-OpencourseEnrollModal",id:"OpenCourseEnrollModal"},i.a.createElement(c.a,{isPreEnroll:e},this.props.children))},OpencourseEnrollModal}(i.a.Component);l.propTypes={course:o.a.instanceOf(u.a).isRequired,isPreEnroll:o.a.bool.isRequired,children:o.a.node.isRequired},l.childContextTypes={course:o.a.instanceOf(u.a)},e.a=l},"5BZR":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("wiyT"),u=t.n(c),l=t("fw5G"),d=t.n(l),p=t("GP6s"),m=t.n(p),h=t("q1tI"),f=t.n(h),g=t("BVC1"),v=t("+2ZD"),y=t("hN99"),b=t("yr6A"),S=t("I4GC"),E=t("jWeT"),x=t("8cuT"),I=t.n(x),C=t("BZ+2"),T=t("VXRf"),N=t("jsrg"),w=t("oQ9N"),q=t("Pzz+"),F=t("sxym"),P=t.n(F),k=function(e){function MoveThreadModal(t,r){var n;(n=e.call(this,t,r)||this).handleSaveSuccess=function(){n.closeModal();var e=Object(y.a)(g.a.join(n.props.rootPath,n.state.selectedForum.link),n.props.question.questionId);n.context.router.push(e)},n.handleSaveError=function(e){n.setState({saveError:!0,saving:!1})},n.handleInputChange=function(e,t){n.setState({selectedForum:t.value})},n.handleCloseModal=function(){n.closeModal()},n.handleCancel=function(){n.closeModal()},n.handleSubmit=function(){var e=Object(b.e)(n.props.question.id,n.props.courseId,n.state.selectedForum.forumId,n.state.selectedForum.type,n.props.userId);if(e)e.then(n.handleSaveSuccess).fail(n.handleSaveError).done(),n.setState({saving:!0});else{var t=n.state.selectedForum,r=(new d.a).addQueryParam("action","move").addQueryParam("id",n.props.question.id),a={context:{typeName:t.type,definition:{courseId:n.props.courseId}}};"week"===t.type?a.context.definition.weekNumber=parseInt(t.id,10):a.context.definition[t.type+"Id"]=t.id,u()(E.a.post(r.toString(),{data:a})).then(n.handleSaveSuccess).catch(n.handleSaveError).done(),n.setState({saving:!0})}};var a=t.courseForums.filter(function(e){return e.parentForumId===n.props.rootForumId}),s=o()(a.map(function(e){return[e].concat(t.courseForums.filter(function(t){return t.parentForumId===e.id}))})).flatten().map(function(e){return Object.assign(e,{type:e.forumType.typeName})}),i=Object.assign(t.questionForum,{type:t.questionForum.forumType.typeName}),c=t.questionForum.id;return n.state={saving:!1,saveError:!1,selectedForum:i,forums:s,initialId:c},n}n()(MoveThreadModal,e);var t=MoveThreadModal.prototype;return t.closeModal=function closeModal(){this.props.handleClose()},t.render=function render(){var e=f.a.createElement("div",{className:"c-error-text c-form-error-message"},m()("Sorry, there was a problem moving this thread. Please reload the page and try again."));return f.a.createElement("div",{className:"rc-MoveThreadModal styleguide"},f.a.createElement(v.a,{handleClose:this.handleCloseModal,modalName:m()("Move thread"),ref:"moveThreadModal"},f.a.createElement("h1",{className:"c-modal-title display-1-text"},m()("Move Thread")),this.state.forums&&f.a.createElement(S.b,{ref:"currentForum",handleInputChange:this.handleInputChange,forums:this.state.forums,value:this.state.selectedForum,rootForumId:this.props.rootForumId}),f.a.createElement("div",{className:"horizontal-box align-items-right"},this.state.saveError&&e,f.a.createElement("button",{className:"passive",onClick:this.handleCancel},m()("Cancel")),f.a.createElement("button",{ref:"submit",disabled:this.state.saving||!this.state.selectedForum||this.state.selectedForum.id===this.state.initialId,className:"secondary",type:"submit",onClick:this.handleSubmit},m()("Submit")))))},MoveThreadModal}(f.a.Component);k.propTypes={question:i.a.object.isRequired,handleClose:i.a.func.isRequired,userId:i.a.number.isRequired,courseId:i.a.string,rootPath:i.a.string,courseForums:i.a.arrayOf(i.a.instanceOf(C.a)),questionForum:i.a.instanceOf(C.a),rootForumId:i.a.string},k.contextTypes={router:i.a.object.isRequired},e.a=o.a.compose(I()(["CourseStore","ApplicationStore"],function(e){var t=e.CourseStore,r;return{userId:e.ApplicationStore.getUserData().id,courseId:t.getCourseId(),rootPath:"/learn/".concat(t.getCourseSlug())}}),Object(w.a)({fields:["title","forumType","link"]}),Object(T.a)(function(e){var t=e.question.forumId,r=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===q.j.rootForumType});return{questionForum:e.courseForums&&e.courseForums.find(function(e){return e.forumId===t}),rootForumId:r&&r.id}}),Object(N.a)(function(e){return!!e.courseForums&&!!e.questionForum}))(k)},"5VK0":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("kvW3"),o=t("V4Vm"),s=t("fw5G"),i=t.n(s),c=t("eJMc"),u=t.n(c),l=t("17x9"),d=t.n(l),p=t("q1tI"),m=t.n(p),h=t("F/us"),f=t.n(h),g=t("wvdd"),v=t("hcqh"),y=t("FcrP"),b=t("m+mO"),S=t("xISu"),E=t("hOqv"),x=t("EWSN"),I=t("ZEYT"),C=t("NfOa"),T=t("ADs+"),N=t("cgZR"),w=t("Pzz+"),q=t("hN99"),F=t("0Q37"),P=t("CDw/"),k=t("iaxl"),D=t("KRcl"),O=t("8cuT"),R=t.n(O),A=t("+LJP"),j=t("pqXt"),M=t("BZ+2"),L=t("zFZo"),B=t("weTL"),V=t("oQ9N"),Q=t("+7k1"),z=t("GP6s"),U=t.n(z),W=t("PDuk"),G=t.n(W),X=t("nMHw"),H=t.n(X),K=w.d.limitPerPage,Z=function(e){function ThreadDetail(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={canTeach:!1,inputClickCounter:0},t.fetchAnswerPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.props,n=r.answerId,a=r.questionId,o=r.courseId,s=r.courseSlug,c=r.userId,u=r.contextId,l=r.currentForum,d=r.currentForumUrl,p=r.sort,m=r.page,h=e||n;if(!h)return;var v=Object(W.tupleToStringKey)([o,h]);Object(F.b)(v,p,K).then(function(e){e===m?t.context.executeAction(g.b,{questionId:a,courseId:o,courseSlug:s,userId:c,contextId:u,sort:p,page:m,forumType:l&&l.forumType.typeName,includeDeleted:t.props.hasModerationRole}):t.context.router.replace({pathname:t.context.router.location.pathname,params:{},query:Object.assign(f.a.object(new i.a(t.context.router.location.search).queryPairs),{page:e})})}).fail(function(){var e=d;t.context.router.replace(Object(q.a)(e,a)),t.context.executeAction(g.b,{userId:c,courseId:o,courseSlug:s,contextId:u,questionId:a,sort:w.f.detailSort,page:w.f.detailPage,forumType:l&&l.forumType.typeName,includeDeleted:t.props.hasModerationRole})}).done()},t}n()(ThreadDetail,e);var t=ThreadDetail.prototype;return t.componentWillMount=function componentWillMount(){var e=this.props,t=e.questionId,r=e.sort,n=e.page,a=e.answerId,o=e.userId,s=e.courseId,i=e.courseSlug,c=e.contextId,u=e.currentForum;this.context.executeAction(g.d,{questionId:t,userId:o,contextId:c,sort:r,page:n,forumType:u&&u.forumType.typeName}),a||1===n&&r===w.f.detailSort||this.context.executeAction(g.b,{questionId:t,userId:o,courseId:s,courseSlug:i,contextId:c,sort:r,page:n,forumType:u&&u.forumType.typeName,includeDeleted:this.props.hasModerationRole})},t.componentDidMount=function componentDidMount(){this.getRole(),this.fetchAnswerPosition(),this._isMounted=!0},t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.questionId,r=e.userId,n=e.courseId,a=e.courseSlug,o=e.contextId,s=e.sort,i=e.page,c=e.currentForum;e.sort!==this.props.sort||e.page!==this.props.page?this.context.executeAction(g.b,{questionId:t,userId:r,courseId:n,courseSlug:a,contextId:o,sort:s,page:i,forumType:c&&c.forumType.typeName,includeDeleted:this.props.hasModerationRole}):this.props.answerSavingState===w.m.SAVING&&e.answerSavingState===w.m.SAVED&&(this.context.executeAction(g.b,{questionId:t,userId:r,courseId:n,courseSlug:a,contextId:o,sort:s,page:i,forumType:c&&c.forumType.typeName,includeDeleted:this.props.hasModerationRole}),this.context.router.push({pathname:window.location.pathname,params:{},query:{sort:w.c.newestSort}}))},t.componentDidUpdate=function componentDidUpdate(e,t,r){(e.questionId!==this.props.questionId||e.currentForum&&e.currentForum.id!==this.props.currentForum.id)&&this.markRead()},t.componentWillUnmount=function componentWillUnmount(){this._isMounted=!1},t.getRole=function getRole(){var e=this,t=this.props,r=t.authenticated,n=t.isSuperuser,a=t.currentForum,o=a&&a.forumType.definition.groupId;o?Object(D.a)(o,r,n).then(function(t){e._isMounted&&e.setState({canTeach:t})}):this.setState({canTeach:this.props.hasModerationRole})},t.getBackLinkDescription=function getBackLinkDescription(){return this.props.currentForum.title},t.markRead=function markRead(){P.a.markRead(this.props.questionId)},t.render=function render(){var e=this,t=this.props,r=t.question,n=t.isClosed,s=t.isPinned,i=t.currentForumUrl,c=t.currentForum,l=t.sort,d=t.page,p=t.questionId,h=t.answerId,f=t.latestNewThreadId,g=t.commentId,C=t.courseId,T=i,q=c&&c.forumType.typeName,F=w.j.mentorForumType,P=w.j.groupForumType,D=c&&[F,P].indexOf(q)<0,O=D,R=this.state.canTeach&&r&&D,A=r?Object(o.c)(r):"undefined-thread-legend";return m.a.createElement("div",{className:"rc-ThreadDetail"},r&&m.a.createElement("h2",{id:A,className:"screenreader-only"},m.a.createElement(a.b,{message:U()("Thread: {title}"),title:r.content.question})),R&&m.a.createElement(y.a,{isPinned:s,question:r}),f===p&&m.a.createElement("div",{className:"sr-only","aria-live":"polite"},m.a.createElement(a.b,{message:U()("Your new thread was created")})),m.a.createElement("div",{className:"discussion-content"},m.a.createElement("div",{className:"horizontal-box align-items-vertical-center align-items-spacebetween"},m.a.createElement(u.a,{to:this.props.backLink,className:"back-area nostyle"},m.a.createElement("div",{className:"horizontal-box align-items-vertical-center"},m.a.createElement("i",{className:"back-arrow cif-arrow-left c-back-arrow-image"}),m.a.createElement("h1",{className:"headline-2-text c-back-label"},this.getBackLinkDescription()))),this.state.canTeach&&r&&m.a.createElement(N.a,{question:r,shouldShowMoveThread:O})),m.a.createElement("div",{className:"frost-container"},m.a.createElement("div",null,m.a.createElement(v.a,{goToInput:function goToInput(){return e.setState({inputClickCounter:e.state.inputClickCounter+1})},question:r,isPinned:s,forumLink:T}),n&&m.a.createElement("div",{className:"c-thread-locked card-no-action color-secondary-text"},m.a.createElement("div",{className:"horizontal-box align-items-absolute-center"},m.a.createElement("i",{className:"cif-lock"}),U()("This thread is closed. You cannot add any more responses.")))),m.a.createElement("div",null,Object(Q.a)(C,q)&&m.a.createElement(E.a,{answerId:h,commentId:g,forumLink:T,questionId:p,fetchAnswerPosition:this.fetchAnswerPosition}),r&&m.a.createElement(x.a,{page:d,sort:l,answerId:h,commentId:g,forumLink:T,questionId:p,fetchAnswerPosition:this.fetchAnswerPosition}),!n&&m.a.createElement("div",{className:"reply-container horizontal-box"},m.a.createElement(S.a,{fullName:k.a.get("fullName"),externalUserId:k.a.get("externalUserId"),profileImageUrl:k.a.getProfileImageUrl()}),r&&m.a.createElement(I.a,{question:r,parentPost:r,savingState:this.props.answerSavingState,shouldFocusCounter:this.state.inputClickCounter,ariaLabel:U()("Reply to this thread"),ariaDescribedBy:A})),r&&r.state&&r.state.deleted&&m.a.createElement(b.a,{entry:r,hideUndoDelete:!1})))))},ThreadDetail}(m.a.Component);Z.propTypes={questionId:d.a.string.isRequired,sort:d.a.string.isRequired,page:d.a.number.isRequired,backLink:d.a.string.isRequired,authenticated:d.a.bool.isRequired,isSuperuser:d.a.bool.isRequired,answerSavingState:d.a.string,answerId:d.a.string,commentId:d.a.string,question:d.a.object,isClosed:d.a.bool,isPinned:d.a.bool,latestNewThreadId:d.a.string,contextId:d.a.string,userId:d.a.number,courseId:d.a.string,courseSlug:d.a.string,currentForum:d.a.oneOfType([d.a.instanceOf(M.a),d.a.instanceOf(L.a),d.a.instanceOf(B.a)]),currentForumUrl:d.a.string,hasModerationRole:d.a.bool},Z.contextTypes={executeAction:d.a.func.isRequired,router:d.a.object.isRequired},e.a=f.a.compose(R()(["ThreadDetailsStore","ThreadsStore","ThreadSettingsStore","CourseStore","ApplicationStore"],function(e,t){var r=e.ThreadDetailsStore,n=e.ThreadsStore,a=e.ThreadSettingsStore,o=e.CourseStore,s=e.ApplicationStore,i=t.questionId,c=r.getQuestion(i),u=n.threadToInsert&&n.threadToInsert.questionId;return{question:c,courseId:o.getCourseId(),courseSlug:o.getCourseSlug(),answerSavingState:c&&r.savingStates[c.id],isClosed:a.isClosed(),isPinned:a.isPinned(),latestNewThreadId:u,userId:s.getUserData().id,authenticated:s.isAuthenticatedUser(),isSuperuser:s.isSuperuser()}}),Object(V.a)({fields:["link","title"],subcomponents:[C.a,I.a,T.a]}),Object(A.a)(j.a))(Z)},"5zCu":function(module,exports,e){var t=e("AsVR"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"6B5c":function(module,e,t){"use strict";var r=t("oYk5"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("i8i4"),i=t.n(s),c=t("wiyT"),u=t.n(c),l=t("3iT4"),d=t("1a9E"),p=t("3eOE"),m=t("+D1/"),h=t("4San"),f=function UserRejectedEnrollPromptException(){},g=function ensureEnrolled(e,t,r){var a=t.get("id");return Object(m.a)(e,a).then(function(s){return s.hasEnrolledRole()?u()():Object(h.c)(a,e).then(function(s){var c=s.at(0);if(c&&r.get("productOwnership.owns"))return Object(m.a)(e,a).invoke("enroll");var h=u.a.defer(),g=n()("<div></div>").appendTo("body"),v;return c?(v=o.a.createElement(d.a,{s12nId:c.get("id"),courseIdOverride:a,showFreeOption:!c.get("membership").isEnrolled(),isContentGate:!0,onFail:h.reject.bind(h,new f),onEnroll:h.resolve}),i.a.render(v,g.get(0))):t.isCertificatePurchaseEnabled()?0===n()(".rc-PhoenixEnrollModal").length&&(v=o.a.createElement(l.a,{course:t}),i.a.render(v,g.get(0))):(v=o.a.createElement(p.a,{course:t,onClose:h.reject.bind(h,new f)}),i.a.render(v,g.get(0))),h.promise.finally(g.remove.bind(g))})})};g.UserRejectedEnrollPromptException=f,e.a=g},"6EV5":function(module,e,t){"use strict";var r=t("RIqP"),n=t.n(r),a=t("wiyT"),o=t.n(a),s=t("CWYE"),i=t("fw5G"),c=t.n(i),u=t("Pzz+"),l=Object(s.a)("/api/courseForumSearches.v1",{type:"rest"}),d=Object(s.a)("/api/mentorForumSearches.v1",{type:"rest"}),p=Object(s.a)("/api/groupForumSearches.v1",{type:"rest"}),m,h,f=[].concat(["title","content","snippet","creatorId","createdAt","parentForumAnswerId"],["onDemandSocialProfiles.v1(".concat(["userId","externalUserId","fullName","photoUrl","courseRole"].join(","),")")]),g={searchFor:function searchFor(e){var t=e.query,r=e.filterQueryString,a=e.forumType,s=e.contextId,i=e.forumId,m=e.startPage,h=e.includeDeleted,g=(new c.a).addQueryParam("query",t).addQueryParam("q","search").addQueryParam("shouldAggregate","true").addQueryParam("includes","profiles").addQueryParam("includeDeleted",h?"true":"false"),v,y;return a===u.j.mentorForumType?(v=d,g.addQueryParam("mentorForumId",s+"~"+i),y=[].concat(n()(f),["mentorForumQuestionId","mentorForumAnswerId"])):a===u.j.groupForumType?(v=p,g.addQueryParam("groupForumId",s+"~"+i),y=[].concat(n()(f),["groupForumQuestionId","groupForumAnswerId"])):(v=l,g.addQueryParam("courseForumId",s+"~"+i),y=[].concat(n()(f),["courseForumQuestionId","courseForumAnswerId"]),r&&g.addQueryParam("sessionFilter",r)),g.addQueryParam("fields",y.join(",")),o()(v.get(g.toString()))}};e.a=g;var v=g.searchFor},"808r":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("c8Vh"),d=t("7GkZ"),p=t("h4VP"),m=t("Fmrb"),h=t.n(m),f=t("8cuT"),g=t.n(f),v=t("BZ+2"),y=t("oQ9N"),b=t("Pzz+"),S=t("OB1E"),E=t.n(S),x=function(e){function DiscussionsDescription(){return e.apply(this,arguments)||this}var t;return n()(DiscussionsDescription,e),DiscussionsDescription.prototype.render=function render(){var e=u.a.createElement("p",null,h()("Welcome to the discussion forums!\n            Ask questions, debate ideas, and find classmates who share your goals.\n            Browse popular threads below or other forums in the sidebar."));if(this.props.courseForums&&this.props.courseForums.length){var t=this.props.courseForums.find(function(e){return e.forumType.typeName===b.j.rootForumType});t&&!p.c.isEmpty(t.description)&&(e=u.a.createElement(d.a,{cml:t.description}))}return u.a.createElement(l.a,{className:"rc-DiscussionsDescription",showToggle:!1,isInitiallyCollapsed:!1},u.a.createElement("h3",{className:"label-text color-secondary-text"},h()("Description")),u.a.createElement("div",{className:"description"},e))},DiscussionsDescription}(u.a.Component);x.propTypes={courseForums:i.a.arrayOf(i.a.instanceOf(v.a))},e.a=Object(a.compose)(g()(["CourseStore"],function(e,t){var r=e.CourseStore;return{courseId:r.getCourseId(),courseSlug:r.getCourseSlug()}}),Object(y.a)({fields:["description","forumType"]}))(x)},"8K2p":function(module,exports,e){var t=e("rZ/L"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"8MAB":function(module,exports,e){var t=e("b1fn"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"90Fz":function(module,exports,e){},"998c":function(module,exports,e){var t=e("bk5p"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"9ziX":function(module,exports,e){},AsVR:function(module,exports,e){},Av69:function(module,exports,e){},B8I4:function(module,exports,e){},BTv4:function(module,exports,e){},BdrT:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("w/1P"),u=t.n(c),l=t("8K2p"),d=t.n(l),p=function(e){function ForumsList(){return e.apply(this,arguments)||this}var t;return n()(ForumsList,e),ForumsList.prototype.render=function render(){return i.a.createElement("div",{className:u()(this.props.className,"rc-ForumsList","card-no-action")},this.props.title&&i.a.createElement("h3",{className:"label-text color-secondary-text category-title"},this.props.title),i.a.createElement("div",null,this.props.children))},ForumsList}(i.a.Component);p.propTypes={title:o.a.node,className:o.a.string,children:o.a.node},e.a=p},BhsZ:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),a=t("oJmH"),o=t.n(a),s=t("lTCR"),i=t.n(s);function _templateObject(){var e=n()(['\n    mutation($helperId: String) {\n      maybeAddHelpers(action: "maybePromoteCandidateToHelper", helperId: $helperId, input: {})\n        @rest(type: "ForumHelperV1", path: "forumHelpers.v1/?{args}", method: "POST") {\n        NoResponse\n      }\n    }\n  ']);return _templateObject=function _templateObject(){return e},e}e.a=Object(a.graphql)(i()(_templateObject()),{name:"maybeAddHelpers"})},BkbU:function(module,e,t){"use strict";var r=t("pVnL"),n=t.n(r),a=t("QILm"),o=t.n(a),s=t("lSNA"),i=t.n(s),c=t("VbXa"),u=t.n(c),l=t("17x9"),d=t.n(l),p=t("q1tI"),m=t.n(p),h=t("q3BH"),f=t("fraZ"),g=t.n(f);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){i()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v=function(e){function TrackedTextInput(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).trackClick=function(e){var r=t.context,n=r._eventData,a=r._withTrackingData;h.a.trackComponent(n,t.props.data,t.props.trackingName,"click",a),t.props.onClick&&t.props.onClick(e)},t.trackKeyPress=function(e){var r=t.context,n=r._eventData,a=r._withTrackingData;"Enter"===e.key&&h.a.trackComponent(n,_objectSpread(_objectSpread({},t.props.data),{},{inputValue:t.input.value,pressedKey:e.key}),t.props.trackingName,"key_press",a),t.props.onKeyPress&&t.props.onKeyPress(e)},t}var t;return u()(TrackedTextInput,e),TrackedTextInput.prototype.render=function render(){var e=this,t=this.props,r=t.trackingName,a=t.className,s=t.onKeyPress,i=o()(t,["trackingName","className","onKeyPress"]),c=this.context._eventData&&this.context._eventData.namespace||{},u=c.app,l=c.page,d,p=r;return d=s?"key_press":"click",m.a.createElement("input",n()({ref:function ref(t){e.input=t},onClick:this.trackClick,onKeyPress:this.trackKeyPress,"data-track":!0,"data-track-app":u,"data-track-page":l,"data-track-action":d,"data-track-component":p,className:a},i))},TrackedTextInput}(m.a.Component);v.propTypes={trackingName:d.a.string.isRequired,className:d.a.string,data:d.a.object,onClick:d.a.func,onKeyPress:d.a.func,children:d.a.node},v.contextTypes={_eventData:d.a.object,_withTrackingData:d.a.func},e.a=v},CWSf:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("w/1P"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("PaPT"),d=t("EkFp"),p=t("Pzz+"),m=t("GP6s"),h=t.n(m),f=t("oFFI"),g=t.n(f),v=p.k.mostRecentSort,y=p.k.popularSort,b=p.k.unansweredSort,S=function(e){function ControlsBar(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleChangeSort=function(e){var r=window.location.pathname+"?sort="+e.target.value+"&page=1";t.context.router.push(r)},t}var t;return n()(ControlsBar,e),ControlsBar.prototype.render=function render(){var e=o()("rc-ControlsBar","styleguide","horizontal-box","align-items-vertical-center",{"in-search-mode":this.props.inSearch});return u.a.createElement("div",{className:e},u.a.createElement("div",{className:"flex-2 shrink-block"},u.a.createElement("label",{htmlFor:"sortOrder",className:"label-text color-secondary-text sort-label"},h()("Sort By:")),u.a.createElement("select",{defaultValue:this.props.sort,id:"sortOrder",className:"color-secondary-text sort-select",onChange:this.handleChangeSort},u.a.createElement("option",{value:v},h()("Latest")),u.a.createElement("option",{value:y},h()("Top")),u.a.createElement("option",{value:b},h()("Unanswered")))),this.props.showSearchBox&&u.a.createElement(d.a,{previousElementId:"sortOrder",nextElementId:"new-thread-btn",animateToSearch:this.props.toggleSearch,animateFromSearch:this.props.toggleSearch}),u.a.createElement(l.b,null))},ControlsBar}(u.a.Component);S.propTypes={inSearch:i.a.bool.isRequired,toggleSearch:i.a.func.isRequired,sort:i.a.string,showSearchBox:i.a.bool},S.contextTypes={router:i.a.object.isRequired},S.defaultProps={sort:v,showSearchBox:!0},e.a=S},CrSL:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("w/1P"),i=t.n(s),c=t("17x9"),u=t.n(c),l=t("q1tI"),d=t.n(l),p=t("VR4P"),m=t("vtBp"),h=t("Uwlx"),f=t("GS56"),g=t("XD0n"),v=t("qi8C"),y=t("hN99"),b=t("+LJP"),S=t("OJpO"),E=t.n(S),x=function(e){function DiscussionsMainColumn(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onSubmitSearch=function(e){t.context.router.push({pathname:Object(y.c)(),query:{q:e}})},t}var t;return n()(DiscussionsMainColumn,e),DiscussionsMainColumn.prototype.render=function render(){var e=this.props,t=e.className,r=e.isForumsListActive,n=e.query;return d.a.createElement("div",{className:i()("rc-DiscussionsMainColumn",t)},r&&d.a.createElement(v.a,null),d.a.createElement(f.a,null,d.a.createElement(p.a,{query:n,onSubmit:this.onSubmitSearch})),r?d.a.createElement("div",null,d.a.createElement("div",{role:"tabpanel",id:"panel-forums",tabIndex:-1},d.a.createElement(m.a,null),d.a.createElement(h.a,null)),d.a.createElement("div",{id:"panel-all-threads"})):d.a.createElement("div",{role:"tabpanel",id:"panel-all-threads",tabIndex:-1},d.a.createElement(g.a,null)))},DiscussionsMainColumn}(d.a.Component);x.propTypes={className:u.a.string,isForumsListActive:u.a.bool,query:u.a.string},x.contextTypes={router:u.a.object.isRequired},e.a=Object(a.compose)(Object(b.a)(function(e){return{isForumsListActive:e.isActive({pathname:Object(y.d)()},!0),query:e.location.query.q&&decodeURIComponent(e.location.query.q)}}))(x)},DA3A:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("Fmrb"),i=t.n(s),c=t("STl7"),u=t("V+HZ"),l=t.n(u),d=function(e){function DiscussionsLandingPageHeader(){return e.apply(this,arguments)||this}var t;return n()(DiscussionsLandingPageHeader,e),DiscussionsLandingPageHeader.prototype.render=function render(){return o.a.createElement("div",{className:"rc-DiscussionsLandingPageHeader align-horizontal-center horizontal-box vertical-when-mobile"},o.a.createElement("div",{className:"flex-2 header-title"},o.a.createElement("h2",{className:"display-3-text"},i()("Discussion Forums")),o.a.createElement("p",{className:"body-1-text"},i()("Get help and discuss material with the community."))),o.a.createElement("div",{className:"flex-1 align-self-end session-switcher-container"},o.a.createElement(c.a,null)))},DiscussionsLandingPageHeader}(o.a.Component);e.a=d},EkFp:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("GP6s"),u=t.n(c),l=t("zRby"),d=t("BkbU"),p=t("gn09"),m=t.n(p),h=function(e){function SearchBox(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={showBar:!1,query:""},t.handleQueryChange=function(e){t.setState({query:e})},t.handleFocus=function(){var e=t.props.animateToSearch;t.setState({showBar:!0}),e()},t.handleBlur=function(){var e=t.props.animateFromSearch;t.setState({showBar:!1}),e()},t.handleClear=function(){t.setState({query:""})},t.handleTab=function(e){var r=t.props.nextElementId,n=r&&document&&document.getElementById(r);n&&(e.preventDefault(),n.focus())},t.handleShiftTab=function(e){var r=t.props.previousElementId,n=r&&document&&document.getElementById(r);n&&(e.preventDefault(),n.focus())},t.submitSearch=function(){var e=t.state.query,r=t.context.router,n=r.location.pathname;if(e){var a=e.replace("*","");r.push({pathname:n,params:{},query:{q:a}})}},t}var t;return n()(SearchBox,e),SearchBox.prototype.render=function render(){var e=this.state,t=e.showBar,r=e.query;return t?o.a.createElement(l.a,{query:r,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange,handleBlur:this.handleBlur,handleShiftTab:this.handleShiftTab,handleTab:this.handleTab,handleClear:this.handleClear,focus:!0}):o.a.createElement("div",{className:"rc-SearchBox expand-block flex-1"},o.a.createElement("div",{className:"large-screen search-bar"},o.a.createElement("div",{className:"input-area"},o.a.createElement(d.a,{trackingName:"search_box",onClick:this.handleFocus,onFocus:this.handleFocus,placeholder:u()("Search"),value:r,className:"search-box search-input","aria-label":"Search"})),o.a.createElement("button",{type:"button",className:"search-button hide",onClick:this.handleFocus,"aria-label":u()("expand search box")},o.a.createElement("i",{className:"cif-search"}))),o.a.createElement("div",{className:"mobile hide horizontal-box align-items-right"},o.a.createElement("button",{type:"button",className:"nostyle",onClick:this.handleFocus,"aria-label":u()("expand search box")},o.a.createElement("i",{className:"cif-search"}))))},SearchBox}(o.a.Component);h.contextTypes={router:i.a.object.isRequired},e.a=h},FcrP:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("F/us"),u=t.n(c),l=t("wd/R"),d=t.n(l),p=t("dcEN"),m=t.n(p),h=t("8cuT"),f=t.n(h),g=t("GP6s"),v=t.n(g),y=t("kvW3"),b="America/Los_Angeles",S=function formatDate(e){return d()(e).tz(b).format("MMMM D")},E=function(e){function SessionDetails(){return e.apply(this,arguments)||this}var t;return n()(SessionDetails,e),SessionDetails.prototype.render=function render(){var e=this.props,t=e.hasSession,r=e.startedAt,n=e.endedAt,a=e.isPinned,o=e.isPersistentForumsEnabled;if(!t)return null;var s=a||o;return i.a.createElement("div",{className:"rc-SessionDetails mentor-message align-horizontal-center"},s&&v()("This thread is visible to all learners."),!s&&i.a.createElement(y.b,{endDate:n,startDate:r,message:v()("This thread is only visible to learners in the {startDate} - {endDate} session.")}))},SessionDetails}(i.a.Component);E.propTypes={hasSession:o.a.bool,startedAt:o.a.string,endedAt:o.a.string,isPinned:o.a.bool,isPersistentForumsEnabled:o.a.bool},e.a=Object(c.compose)(f()(["SessionFilterStore"],function(e,t){var r=e.SessionFilterStore,n=t.question,a=r.allSessions&&r.allSessions.find(function(e){return e.id===n.sessionId});return{hasSession:!!a,isPersistentForumsEnabled:r.getIsPersistentForumsEnabled(),startedAt:a&&S(a.startedAt),endedAt:a&&S(a.endedAt)}}))(E)},GS56:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("TmOg"),o=t("F/us"),s=t.n(o),i=t("17x9"),c=t.n(i),u=t("q1tI"),l=t.n(u),d=t("w/1P"),p=t.n(d),m=t("eJMc"),h=t.n(m),f=t("TOZ3"),g=t("Fmrb"),v=t.n(g),y=t("+LJP"),b=t("hN99"),S=t("tpUz"),E=t.n(S),x=function(e){function TabList(){return e.apply(this,arguments)||this}var t;return n()(TabList,e),TabList.prototype.render=function render(){return l.a.createElement(f.b,{alignItems:"center"},l.a.createElement("ul",{className:"tabs tabs-divider horizontal-box",role:"tablist"},this.props.children),l.a.createElement("div",{className:"flex-1 align-right rc-DiscussionsLandingPageSearch"},this.props.searchEl))},TabList}(l.a.Component);x.propTypes={searchEl:c.a.node,children:c.a.node};var I=Object(a.a)(x),C=function(e){function DiscussionsLandingPageTabs(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onTabEnter=function(e){t.props.updateLocation(e["data-link"])},t.renderTabs=function(e){return e.map(function(e){return t.renderTab(e)})},t.renderTab=function(e){var t=e.title,r=e.pathname,n=e.query,a=e.isActive,o=e.key,s={query:n,pathname:r},i=o.toLowerCase().replace(/ /gi,"-");return l.a.createElement("li",{id:"tab-".concat(i),role:"tab","aria-controls":"panel-".concat(i),"aria-selected":a,className:p()("colored-tab",{selected:a}),"data-link":s,key:o},l.a.createElement(h.a,{to:s,tabIndex:-1},t))},t}var t;return n()(DiscussionsLandingPageTabs,e),DiscussionsLandingPageTabs.prototype.render=function render(){var e=[{title:v()("Forums"),pathname:Object(b.d)(),query:"",isActive:this.props.isBaseForumsActive,key:"Forums"},{title:v()("All Threads"),pathname:Object(b.c)(),query:this.props.query,isActive:!this.props.isBaseForumsActive,key:"All Threads"}];return l.a.createElement("div",{className:"rc-DiscussionsLandingPageTabs",tabIndex:-1},l.a.createElement(I,{onEnter:this.onTabEnter,searchEl:this.props.children},this.renderTabs(e)))},DiscussionsLandingPageTabs}(l.a.Component);C.propTypes={isBaseForumsActive:c.a.bool,query:c.a.object,children:c.a.node,updateLocation:c.a.func},e.a=Object(o.compose)(Object(y.a)(function(e){return{isBaseForumsActive:e.isActive({pathname:Object(b.d)()},!0),query:e.location.query,updateLocation:e.push}}))(C)},GaUn:function(module,exports,e){},GfTx:function(module,exports,e){var t=e("w7XQ"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},HcWw:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("N1Lp"),u=t("jhsd"),l=t("hN99"),d=t("CDw/"),p=t("GP6s"),m=t.n(p),h=function(e){function SearchResultEntry(){return e.apply(this,arguments)||this}var t;return n()(SearchResultEntry,e),SearchResultEntry.prototype.render=function render(){var e=this.props.entry,t=!d.a.hasUnread(e);return i.a.createElement("div",{className:"rc-SearchResultEntry nostyle"},i.a.createElement(c.a,{threadUrl:l.f(this.props.forumLink,this.props.entry),profile:e.creator,timestamp:e.createdAt,threadName:e.title,snippet:e.snippet,questionId:e.id,questionUserId:e.creator.userId,isRead:t,metadataLabel:m()("Post by")}))},SearchResultEntry}(i.a.Component);h.propTypes={entry:o.a.shape({id:o.a.string.isRequired,title:o.a.string.isRequired,snippet:o.a.object.isRequired,creator:u.a.isRequired,createdAt:o.a.number,forumId:o.a.string}).isRequired,index:o.a.number.isRequired,page:o.a.number.isRequired,query:o.a.string.isRequired,forumLink:o.a.string.isRequired},e.a=h},IMZc:function(module,exports,e){var t=e("jZX6"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},JRPf:function(module,e,t){"use strict";var r=t("Pzz+"),n=t("6EV5"),a=function receiveSearchResults(e,t,n,a,o){e.dispatch(r.b.SEARCH_RESULTS_RECEIVED,{pageNum:a,forumId:t,query:n,naptimeResponse:o})},o=function searchApiError(e,t){e.dispatch(r.b.SEARCH_API_ERROR,{err:t})},s=function search(e,t,s){var i=t.query,c=t.filterQueryString,u=t.forumId,l=t.contextId,d=t.forumType,p=t.reset,m=void 0!==p&&p,h=t.pageNum,f=void 0===h?1:h,g=t.includeDeleted;e.dispatch(r.b.UPDATE_LOADING_STATE,r.i.LOADING),m&&e.dispatch(r.b.CLEAR_DISCUSSIONS_SEARCH_STORE),n.a.searchFor({query:i,filterQueryString:c,forumType:d,forumId:u,contextId:l,pageNum:f,includeDeleted:g}).then(function(t){return a(e,u,i,f,t)}).fail(function(t){return o(e,t)}).done(function(){return s()})},i=function goToPage(e,t,a){var s=t.query,i=t.filterQueryString,c=t.pageNum,u=t.forum,l=t.forumId,d=t.contextId,p=t.forumType,m=t.includeDeleted,h,f=e.getStore("DiscussionsSearchStore").searchResults({forumId:l,pageNum:c});e.dispatch(r.b.UPDATE_LOADING_STATE,r.i.LOADING),0===f.length?n.a.searchFor({query:s,filterQueryString:i,forumType:p,forumId:l,contextId:d,pageNum:c,includeDeleted:m}).then(function(t){e.dispatch(r.b.SEARCH_PAGE_CHANGE,{pageNum:c,filterQueryString:i,naptimeResponse:t,forumId:l,query:s})}).fail(function(t){return o(e,t)}).done(function(){return a()}):(e.dispatch(r.b.SEARCH_PAGE_CHANGE,{pageNum:c,filterQueryString:i,forumId:l,query:s}),a())};e.a={search:s,goToPage:i}},JTnn:function(module,exports,e){var t=e("BTv4"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},JW2j:function(module,exports,e){var t=e("PMAU"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},JzMB:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("w/1P"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("808r"),d=t("hBDt"),p=t("ccOk"),m=function(e){function DiscussionsSideColumn(){return e.apply(this,arguments)||this}var t;return n()(DiscussionsSideColumn,e),DiscussionsSideColumn.prototype.render=function render(){var e=this.props.className;return u.a.createElement("div",{className:o()("rc-DiscussionsSideColumn",e)},u.a.createElement(l.a,null),u.a.createElement(d.a,null),u.a.createElement(p.a,null))},DiscussionsSideColumn}(u.a.Component);m.propTypes={className:i.a.string},e.a=m},KqFL:function(module,exports,e){},N1Lp:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),a=t("VbXa"),o=t.n(a),s=t("w/1P"),i=t.n(s),c=t("17x9"),u=t.n(c),l=t("q1tI"),d=t.n(l),p=t("wd/R"),m=t.n(p),h=t("F/us"),f=t.n(h),g=t("lxgr"),v=t("m+mO"),y=t("ZywA"),b=t("jhsd"),S=t("V4Vm"),E=t("9A5E"),x=t("cH9x"),I=t("wdve"),C=t("gSvz"),T=t("8cuT"),N=t.n(T),w=t("GP6s"),q=t.n(w),F=t("ZqD4"),P=t.n(F);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var k=function(e){function Metadata(){return e.apply(this,arguments)||this}var t;return o()(Metadata,e),Metadata.prototype.render=function render(){var e=this.props,t=e.badge,r=e.profile,n=e.metadataLabel,a=e.timestamp,o=Object(C.a)(r?r.courseRole:""),s=o?q()("Role #{role}",{role:o}):"",i=q()("Last Contributor #{fullName}, with #{roleString}, #{postsCount} posts, #{votesReceivedCount} votes, Profile",{roleString:s,fullName:r?r.fullName:q()("none"),postsCount:r?r.postsCount:"0",votesReceivedCount:r?r.votesReceivedCount:"0"});return d.a.createElement("div",{className:"rc-Metadata entry-metadata caption-text color-secondary-text"},d.a.createElement(y.a,{badge:t}),n||q()("Created by")," ",d.a.createElement(g.a,{ariaHidden:!1,ariaLabel:i,fullName:r.fullName,externalId:r.externalUserId,userId:r.userId}),d.a.createElement("span",{className:"timestamp-separator"}," · "),d.a.createElement("span",{className:"timestamp"},m()(a).fromNow()))},Metadata}(d.a.Component);k.propTypes={profile:b.a.isRequired,timestamp:u.a.number.isRequired,badge:u.a.string,metadataLabel:u.a.string};var D=function(e){function ThreadsListEntry(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={threadFocus:!1},t.handleThreadFocus=function(){t.setState({threadFocus:!0})},t.handleThreadBlur=function(){t.setState({threadFocus:!1})},t}var t;return o()(ThreadsListEntry,e),ThreadsListEntry.prototype.render=function render(){var e=this.props,t=e.entry,r=e.isPinned,n=e.isDeleted,a=e.isRead,o=e.threadUrl,s=e.viewCount,c=e.answerCount,u=e.badge,l=e.profile,p=e.metadataLabel,h=e.forumName,f=e.threadName,g=e.snippet,y=e.timestamp,b=e.questionId,I=e.questionUserId,C=e.fullProfile,T=this.state,N=T.threadFocus,w=T.profileFocus,F=i()("headline-1-text question-title color-primary-text",{"question-title-bold":!a}),P=void 0!==s&&!Number.isNaN(s),D=void 0!==c&&!Number.isNaN(c),O=P||D,R="".concat(r?"Pinned ":"","Thread: ").concat(f,", \n                          ").concat(m()(y).fromNow(),"\n                          ").concat(P?", ".concat(s," views"):""," \n                          ").concat(D?", ".concat(c," replies"):"");return d.a.createElement("li",{className:"rc-ThreadsListEntry ".concat(N?"focused":"blurred")},d.a.createElement(E.c,{href:o,className:"horizontal-box threads-list-link nostyle",trackingName:"thread_list_entry","aria-label":R,data:{question_id:b,question_user_id:I}},r&&d.a.createElement("span",{className:"cif-stack cif-lg pin-container align-self-start"},d.a.createElement("i",{className:"cif-circle cif-stack-2x pin-background"}),d.a.createElement("i",{className:"cif-pin cif-stack-lg pin-icon"})),d.a.createElement("div",{className:"flex-1 align-self-center"},h&&d.a.createElement("div",{className:"forum-info caption-text color-secondary-text"},h),d.a.createElement("div",{className:F},f),g&&d.a.createElement("div",{className:i()("body-1-text","entry-snippet")},d.a.createElement(x.a,{cml:g}))),O&&d.a.createElement("div",{className:"horizontal-box align-self-end color-secondary-text c-reply-area"},P&&d.a.createElement("div",{className:"vertical-box align-items-vertical-center view-count"},d.a.createElement("div",{className:"label-text color-secondary-text"},Object(S.a)(s)),d.a.createElement("div",{className:"caption-text color-secondary-text"},q()("views"))),D&&d.a.createElement("div",{className:"vertical-box align-items-vertical-center"},d.a.createElement("div",{className:"label-text color-secondary-text"},Object(S.a)(c)),d.a.createElement("div",{className:"caption-text color-secondary-text"},q()("replies"))))),d.a.createElement(k,{badge:u,profile:_objectSpread(_objectSpread({},C),l),profileFocus:w,metadataLabel:p,timestamp:y}),n&&d.a.createElement(v.a,{entry:t,hideUndoDelete:!0}))},ThreadsListEntry}(d.a.Component);D.propTypes={threadUrl:u.a.string.isRequired,profile:b.a.isRequired,timestamp:u.a.number.isRequired,threadName:u.a.string.isRequired,questionId:u.a.string.isRequired,questionUserId:u.a.number.isRequired,entry:u.a.object,isPinned:u.a.bool,isDeleted:u.a.bool,isRead:u.a.bool,viewCount:u.a.number,answerCount:u.a.number,badge:u.a.string,metadataLabel:u.a.string,snippet:u.a.object,forumName:u.a.string,courseId:u.a.string,fullProfile:b.a.isRequired},D.contextTypes={executeAction:u.a.func.isRequired},D.defaultProps={isPinned:!1,isDeleted:!1,isRead:!0},e.a=f.a.compose(N()(["CourseStore","ClassmatesProfileStore"],function(e,t){var r=e.CourseStore,n=e.ClassmatesProfileStore,a=t.profile;return{courseId:r.getCourseId(),fullProfile:f()(n.profiles).findWhere({externalId:a.externalUserId})}}))(D)},NfOa:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("eJMc"),d=t.n(l),p=t("BVC1"),m=t("oQ9N"),h=t("BZ+2"),f=t("zFZo"),g=t("+LJP"),v=t("pqXt"),y=t("weTL"),b=t("VXRf"),S=function(e){function NextViewLink(){return e.apply(this,arguments)||this}var t;return n()(NextViewLink,e),NextViewLink.prototype.render=function render(){if(!this.props.questionForum)return null;var e=p.a.join(this.props.rootPath,this.props.questionForum.link),t=this.props.questionForum.title;if(!e||!t)return null;return u.a.createElement("span",{className:"rc-NextViewName"},u.a.createElement(d.a,{to:e,className:"caption-text"},t))},NextViewLink}(u.a.Component);S.propTypes={question:i.a.object.isRequired,questionForum:i.a.oneOfType([i.a.instanceOf(h.a),i.a.instanceOf(f.a),i.a.instanceOf(y.a)]),rootPath:i.a.string},S.contextTypes={executeAction:i.a.func.isRequired},e.a=Object(a.compose)(Object(m.a)({fields:["link","title"]}),Object(g.a)(v.a),Object(b.a)(function(e){var t=e.question.forumId;return{questionForum:e.courseForums.concat(e.mentorForums)&&e.courseForums.find(function(e){return e.forumId===t})}}))(S)},OB1E:function(module,exports,e){var t=e("Ym8i"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},OJpO:function(module,exports,e){var t=e("T/nb"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},OeW9:function(module,exports,e){var t=e("pPKs"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},OpQp:function(module,exports,e){},Or48:function(module,exports,e){var t=e("X1ub"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},PDXH:function(module,exports,e){var t=e("OpQp"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},PMAU:function(module,exports,e){},PaPT:function(module,e,t){"use strict";t.d(e,"a",function(){return M});var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("F/us"),u=t.n(c),l=t("BVC1"),d=t("jsrg"),p=t("VXRf"),m=t("+LJP"),h=t("3JZf"),f=t("8cuT"),g=t.n(f),v=t("JPjw"),y=t("IDuc"),b=t("q5zD"),S=t("I4GC"),E=t("QT90"),x=t("E4Nz"),I=t("6B5c"),C=t("hN99"),T=t("h4VP"),N=t("GLvD"),w=t("Pzz+"),q=t("pqXt"),F=t("oQ9N"),P=t("GP6s"),k=t.n(P),D=t("uaFu"),O=t("344Z"),R=t.n(O),A=function(e){function NewThreadButton(t,r){var n;return(n=e.call(this,t,r)||this).handleSubmit=function(){var e=n.state,t=e.currentForum,r=e.activeFilterId,a=e.title,o=e.content,s=n.props,i=s.userId,c=s.filter,l=s.showSessionSelector,d=n.context.executeAction,p;if(u()(n.state).any(function(e){return e.hasError}))a.hasError?n.titleElemRef.focus():o.hasError?n.contentElemRef.focus():t.hasError&&n.forumElemRef.focus(),n.setState({showErrors:!0});else{var m={title:a.value,content:o.value,context:""};l?m.context=r:c&&(m.context=c.id);var h=!!m.context&&"all"!==m.context&&"ondemand"!==m.context,f={content:{question:m.title,details:m.content},overrideSessionId:h?m.context:void 0,state:{},userId:i,courseForumId:t.value.id,mentorForumId:t.value.id,groupForumId:t.value.id},g=t.value.forumId,v=t.value.forumType&&t.value.forumType.typeName;n.setState({saving:!0}),d(x.a,{options:f,forumType:v,forumId:g})}},n.handleDropdownChange=function(e){n.setState({activeFilterId:e})},n.handleOpenModal=function(){var e=n.props,t=e.userId,r=e.course,a=e.verificationDisplay;Object(I.a)(t,r,a).then(function(){return n.handleOpen()})},n.handleCancel=function(){n.setState(n.resetState())},n.handleCloseModal=function(){n.setState({showModal:!1})},n.handleInputChange=function(e,t){var r=n.state[e];r.value=t.value,r.hasError=!t.isValid,n.setState(function(e){return e})},n.clearErrorsAndSubmit=function(){n.setState({showErrors:!1}),setTimeout(function(){n.handleSubmit()},500)},n.setTitleElemRef=function(e){n.titleElemRef=e},n.setContentElemRef=function(e){n.contentElemRef=e},n.setForumElemRef=function(e){n.forumElemRef=e},n.state=n.resetState(),n.titleElemRef={},n.contentElemRef={},n.forumElemRef={},n}n()(NewThreadButton,e);var t=NewThreadButton.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.threadSavingState,r;if(!this.state.saving){var n,a=this.props.currentForum,o=!a;this.setState({currentForum:{value:a,hasError:o}})}t===w.m.SAVING&&e.threadSavingState===w.m.SAVED?this.handleSaveSuccess(e.newThread):t===w.m.SAVING&&e.threadSavingState===w.m.ERROR&&this.handleSaveError()},t.handleSaveSuccess=function handleSaveSuccess(e){var t=this.context.router,r=this.state.currentForum,n=this.props.rootPath,a=l.a.join(n,r.value.link);t.push(Object(C.a)(a,e.questionId)),this.setState(this.resetState())},t.handleSaveError=function handleSaveError(){this.setState({saveError:!0,saveErrorMessage:k()("Something went wrong. Please reload the page and try again."),saving:!1})},t.handleOpen=function handleOpen(){var e=this.state.showModal;this.setState(function(){return{showModal:!e}})},t.resetState=function resetState(){var e,t=this.props.currentForum,r=!t;return{showModal:!1,title:{value:"",hasError:!0},content:{value:T.c.create("",w.a),hasError:!0},currentForum:{value:t,hasError:r},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:"",activeFilterId:""}},t.render=function render(){var e=this,t=this.state,r=t.showModal,n=t.saving,a=t.saveError,s=t.content,i=t.showErrors,c=t.title,l=t.currentForum,d=t.saveErrorMessage,p=this.props,m=p.courseId,h=p.showSessionSelector,f=p.rootForumId,g=p.forums,x=N.a.generateContentLengthWarning(s.value),I=o.a.createElement("div",{className:"error-text c-modal-error-message"},d),C=null,T=l.value,w=g.filter(function(e){return!e.parentForumId||e.parentForumId===f}),q=u()(w.map(function(e){return[e].concat(g.filter(function(t){return t.parentForumId===e.id}))})).flatten(),F;q.length&&(C=o.a.createElement("div",{className:"c-input-area"},o.a.createElement(D.a,{fieldName:k()("Forum")}),o.a.createElement(S.b,{id:"forum-selector",rootForumId:f,hasError:i&&l.hasError,handleInputChange:this.handleInputChange,forums:q,value:T,elemRefHook:this.setForumElemRef}))),h&&(F=o.a.createElement("div",{className:"context-selector-container"},o.a.createElement("div",{className:"bgcolor-divider bt3-pull-left section-divider"}),o.a.createElement("div",{className:"c-input-area"},o.a.createElement("h3",{className:"headline-1-text"},k()("You're currently viewing All Sessions.")),o.a.createElement("label",{htmlFor:"new-thread-sessions-switcher"},o.a.createElement("span",{className:"caption-text color-secondary-text"},k()("Which session should this thread go in?"))),o.a.createElement(E.a,{id:"new-thread-sessions-switcher",hideAllSessionsOption:!0,limitSwitchingToCurrentBranch:!0,dropup:!0,handleDropdownChange:this.handleDropdownChange}))));var P=o.a.createElement(v.a,{onRequestClose:this.handleCloseModal,modalName:k()("Create a new thread"),className:"rc-NewThreadModal large"},o.a.createElement("h1",{className:"c-modal-title headline-3-text"},k()("Create a new thread")),o.a.createElement("div",{className:"c-input-area"},o.a.createElement(D.a,{fieldName:k()("Title")}),o.a.createElement(S.c,{id:"title-input",hasError:i&&c.hasError,value:c.value,handleInputChange:this.handleInputChange,elemRefHook:this.setTitleElemRef})),o.a.createElement("div",{className:"c-input-area"},o.a.createElement(D.a,{fieldName:k()("Body")}),o.a.createElement(S.a,{id:"content-input",courseId:m,hasError:i&&s.hasError,handleInputChange:this.handleInputChange,cml:s.value,elemRefHook:this.setContentElemRef})),C,F,o.a.createElement("div",null,x,a&&I,o.a.createElement("div",{className:"horizontal-box align-items-right"},o.a.createElement("button",{type:"button",className:"passive",onClick:this.handleCancel},k()("Cancel")),"  ",o.a.createElement(y.a,{ref:function ref(t){e.submitButton=t},disabled:n,className:"secondary",type:"submit",onClick:this.clearErrorsAndSubmit,trackingName:"new_thread_create"},k()("Post")))));return o.a.createElement("div",{className:"rc-NewThreadForm shrink-block horizontal-box align-items-right"},o.a.createElement(y.a,{ref:function ref(t){e.newThreadButton=t},className:"c-new-thread-button secondary large-screen",id:"new-thread-btn",onClick:this.handleOpenModal,trackingName:"new_thread_button"},k()("New Thread")),o.a.createElement(y.a,{ref:function ref(t){e.newThreadButton=t},className:"nostyle align-right mobile hide",onClick:this.handleOpenModal,trackingName:"new_thread_button"},o.a.createElement(b.a,{name:"plus"})),r&&P)},NewThreadButton}(o.a.Component);A.contextTypes={executeAction:i.a.func.isRequired,router:i.a.object.isRequired};var j=u.a.compose(g()(["SessionFilterStore","ThreadsStore","ApplicationStore","CourseMembershipStore","VerificationStore","CourseStore"],function(e,t){var r=e.SessionFilterStore,n=e.ThreadsStore,a=e.ApplicationStore,o=e.CourseMembershipStore,s=e.VerificationStore,i=e.CourseStore;return{showSessionSelector:(a.isSuperuser()||o.hasModerationRole())&&"all"===r.activeFilterQueryString,filter:r.activeFilter,threadSavingState:n.savingState,newThread:n.threadToInsert,userId:a.getUserData().id,verificationDisplay:s.getVerificationDisplay(),course:i.getMetadata(),courseId:i.getCourseId()}}),Object(F.a)({fields:["forumType","title","link"]}),Object(m.a)(q.a),Object(p.a)(function(e){var t=e.currentForum&&e.currentForum.forumType.typeName!==w.j.rootForumType&&e.currentForum||void 0,r=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===w.j.rootForumType});return{forums:e.courseForums?e.courseForums.filter(function(e){return e.forumType.typeName!==w.j.rootForumType}).concat(e.mentorForums).concat(e.groupForums):[],rootForumId:r&&r.id,currentForum:t,currentForumId:t&&t.id}}),Object(d.a)(function(e){return e.forums.length}))(A);e.b=Object(h.a)()(j);var M=j,L=A},Q1T9:function(module,e,t){"use strict";var r={up:38,left:37,down:40,right:39,space:32,enter:13,esc:27,tab:9,home:36,end:35};e.a=r},Rz2x:function(module,exports,e){},S5kF:function(module,exports,e){},STl7:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),a=t("VbXa"),o=t.n(a),s=t("F/us"),i=t.n(s),c=t("17x9"),u=t.n(c),l=t("q1tI"),d=t.n(l),p=t("gtYf"),m=t("xJyF"),h=t("lTCR"),f=t.n(h),g=t("PJ/k"),v=t.n(g),y=t("q5zD"),b=t("QT90"),S=t("k01U"),E=t("8cuT"),x=t.n(E),I=t("+LJP"),C=t("GP6s"),T=t.n(C),N=t("VuLx"),w=t.n(N);function _templateObject(){var e=n()(["\n      query SessionsV2AuthoringEligibilityCheckQuery($courseId: String!) {\n        SessionsV2AuthoringEligibilityCheckV1Resource {\n          get(id: $courseId) {\n            eligibleForSessionsV2\n          }\n        }\n      }\n    "]);return _templateObject=function _templateObject(){return e},e}var q=function(e){function SessionFilter(t,r){var n;return(n=e.call(this,t,r)||this).handleDropdownChange=function(e,t){"ondemand"===e?n.context.executeAction(S.d):"all"===e?n.context.executeAction(S.c,{branchId:t}):n.context.executeAction(S.e,{sessionId:e})},!t.loaded&&t.hasModerationRole&&r.executeAction(S.a,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),t.loaded||t.hasModerationRole||r.executeAction(S.b,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),n}var t;return o()(SessionFilter,e),SessionFilter.prototype.render=function render(){var e=this.props,t=e.discussionsLandingPageActive,r=e.loaded,n=e.hasModerationRole,a=e.isSessionsV2Enabled;if(!t||!r||!n)return null;var o=T()("Instructors can now change the structure of the discussion forums for each version of the course to better\n        fit the material. It is still possible to view all discussions in a particular version, but no longer\n        possible to view discussions across every session."),s="session-filter-tooltip",i=d.a.createElement(g.Tooltip,{id:s},o);return d.a.createElement("div",{className:"rc-SessionFilter card-rich-interaction cozy"},d.a.createElement("div",null,d.a.createElement("div",{className:"horizontal-box align-items-spacebetween"},d.a.createElement("div",null,d.a.createElement("h2",{className:"label-text color-secondary-text title"},d.a.createElement(y.a,{name:"lock"})," ",a?T()("Filter by version and cohort"):T()("Filter by session"))),this.props.containsMultipleBranches?d.a.createElement(g.OverlayTrigger,{placement:"bottom",overlay:i,trigger:["hover","focus"]},d.a.createElement("div",{className:"label-text color-secondary-text title",role:"tooltip",tabIndex:"0","aria-label":o},d.a.createElement(y.a,{name:"question-circle-o",className:"cif-lg"}))):null),d.a.createElement("p",{className:"caption-text color-secondary-text align-left"},T()("Visible to staff and mentors")),d.a.createElement(b.a,{isSessionsV2Enabled:a,handleDropdownChange:this.handleDropdownChange})))},SessionFilter}(d.a.Component);q.propTypes={courseId:u.a.string,loaded:u.a.bool,currentSessionId:u.a.string,discussionsLandingPageActive:u.a.bool,containsMultipleBranches:u.a.bool,hasModerationRole:u.a.bool,isPrivateSession:u.a.bool,forceLoad:u.a.bool,isSessionsV2Enabled:u.a.bool},q.contextTypes={executeAction:u.a.func.isRequired},q.defaultProps={forceLoad:!1},e.a=Object(s.compose)(x()(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],function(e,t){var r=e.SessionFilterStore,n=e.SessionStore,a=e.CourseStore,o=e.CourseMembershipStore,s=e.ApplicationStore;return{hasModerationRole:o.hasModerationRole()||s.isSuperuser(),loaded:r.filtersLoaded,containsMultipleBranches:!!r.containsMultipleBranches,currentSessionId:n.isEnrolled()?n.getSessionId():void 0,courseSlug:a.getCourseSlug(),courseId:a.getCourseId(),isPrivateSession:!!n.isEnrolled()&&n.isSessionPrivate()}}),Object(p.a)(["courseId"]),Object(m.a)(f()(_templateObject()),{options:function options(e){var t;return{variables:{courseId:e.courseId}}},props:function props(e){var t,r=e.data.SessionsV2AuthoringEligibilityCheckV1Resource;if(r){var n=r.get;return{isSessionsV2Enabled:n&&n.eligibleForSessionsV2}}return{isSessionsV2Enabled:!1}}}),Object(I.a)(function(e,t){return{discussionsLandingPageActive:t.forceLoad||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/all"),query:e.location.query},!0)}}))(q)},"T/nb":function(module,exports,e){},TSrj:function(module,exports,e){var t=e("w1Z+"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},TmOg:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),a=t("QILm"),o=t.n(a),s=t("VbXa"),i=t.n(s),c=t("44Ds"),u=t.n(c),l=t("q1tI"),d=t.n(l),p=t("MnCE"),m=t("Q1T9");function withKeyboardControls(e){var t=function(t){function WithKeyboardControls(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).state={tabbableChildIndex:0},e.childRefs=[],e.manageFocus=u()(function(t){return function(r){var n,a,o,s,i=e.getChildAtIndex(t);if(!i)return;var c=i.props,u=r.keyCode,l=e.props,d=l["aria-controls"],p=l["aria-labelledby"],h=l.allowDefaultOnEnter,f=0,g=null,v=c["aria-controls"]||d,y=c["aria-labelledby"]||p,b=e.props,S=b.onEnter,E=b.onEsc,x=b.activateClick,I=b.selectOnArrow;switch(u){case m.a.up:case m.a.left:r.preventDefault();for(var C=1,T=e.childRefs.length;C<=T&&!g;C+=1)f=((t-C)%T+T)%T,g=e.childRefs[f];var N;if(null===(n=g)||void 0===n||n.focus(),I)null===(N=g)||void 0===N||N.click();e.setState({tabbableChildIndex:f});break;case m.a.down:case m.a.right:r.preventDefault();for(var w=1,q=e.childRefs.length;w<=q&&!g;w+=1)f=((t+w)%q+q)%q,g=e.childRefs[f];var F;if(null===(a=g)||void 0===a||a.focus(),I)null===(F=g)||void 0===F||F.click();e.setState({tabbableChildIndex:f});break;case m.a.space:case m.a.enter:var P;if(h||r.preventDefault(),f=t,g=e.childRefs[f],x)null===(P=g)||void 0===P||P.click();S&&S(c,r),v&&e.giftFocus(v);break;case m.a.esc:null==E||E(c,r),y&&e.giftFocus(y);break;case m.a.home:r.preventDefault();for(var k=0,D=e.childRefs.length;k<D&&!g;k+=1)f=k,g=e.childRefs[f];null===(o=g)||void 0===o||o.focus(),e.setState({tabbableChildIndex:f});break;case m.a.end:r.preventDefault();for(var O=1,R=e.childRefs.length;O<=R&&!g;O+=1)f=R-O,g=e.childRefs[f];null===(s=g)||void 0===s||s.focus(),e.setState({tabbableChildIndex:f})}}}),e.manageRef=u()(function(t){return function(r){e.childRefs[t]=r}}),e}i()(WithKeyboardControls,t);var r=WithKeyboardControls.prototype;return r.getChildAtIndex=function getChildAtIndex(e){var t;return d.a.Children.forEach(this.props.children,function(r,n){n===e&&d.a.isValidElement(r)&&(t=r)}),t},r.giftFocus=function giftFocus(e){var t=document.getElementById(e);null==t||t.focus()},r.render=function render(){var t=this,r=this.props,a=r.children,s=o()(r,["children"]),i=this.state.tabbableChildIndex;return d.a.createElement(e,s,d.a.Children.map(a,function(e,r){var a;if(!d.a.isValidElement(e))return null;var o="string"==typeof e.type?"ref":"targetRef",s=(a={},n()(a,o,t.manageRef(r)),n()(a,"onKeyDown",t.manageFocus(r)),n()(a,"tabIndex",r===i?0:-1),n()(a,"key",e.key||r),a);return d.a.cloneElement(e,s)}))},WithKeyboardControls}(d.a.Component);return t.defaultProps={onEnter:function onEnter(){return},onEsc:function onEsc(){return},activateClick:!1,selectOnArrow:!1},Object(p.setDisplayName)(Object(p.wrapDisplayName)(e,"withKeyboardControls"))(t)}e.a=withKeyboardControls},UVOs:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("F/us"),u=t.n(c),l=t("E4Nz"),d=t("CWSf"),p=t("WKvM"),m=t("PaPT"),h=t("N1Lp"),f=t("Pzz+"),g=t("hN99"),v=t("CDw/"),y=t("GImH"),b=t("BZ+2"),S=t("zFZo"),E=t("weTL"),x=t("+LJP"),I=t("pqXt"),C=t("oQ9N"),T=t("jsrg"),N=t("8cuT"),w=t.n(N),q=t("GP6s"),F=t.n(q),P=t("JTnn"),k=t.n(P),D=t("N43y"),O=t.n(D),R=function(e){function ThreadsList(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={inSearch:!1},t.onPageChange=function(e){var r;t.context.router.push({pathname:t.context.router.location.pathname,params:{},query:Object.assign(t.context.router.location.query,{page:e})})},t.toggleSearch=function(){t.setState({inSearch:!t.state.inSearch})},t.renderEntry=function(e){var r=t.props,n=r.activeFilterQueryString,a=r.courseForums,o=r.mentorForums,s=r.groupForums,c=r.currentForum,u=r.currentForumUrl,l=e.lastAnsweredAt&&e.lastAnsweredBy,d=!v.a.hasUnread(e),p=l?e.lastAnsweredBy:e.creator,m=l?F()("Last post by"):F()("Created by"),f,y=a.concat(o).concat(s).find(function(t){return t.forumId===e.forumId}),b=y&&c.id!==y.id&&y.title||void 0,S=g.f(u,e),E,x=void 0!==e.answerCount&&!isNaN(e.answerCount)?e.answerCount:e.totalAnswerCount;return i.a.createElement(h.a,{key:e.id+n,threadUrl:S,profile:p,timestamp:e.lastAnsweredAt||e.createdAt,threadName:e.content.question,questionId:e.id,questionUserId:e.creatorId,entry:e,isPinned:!(!e.state||!e.state.pinned),isDeleted:!(!e.state||!e.state.deleted),isRead:d,forumName:b,metadataLabel:m,viewCount:Math.max(x,e.viewCount),answerCount:x,badge:e.answerBadge.answerBadge})},t}n()(ThreadsList,e);var t=ThreadsList.prototype;return t.componentWillMount=function componentWillMount(){var e=this.props,t=e.sort,r=e.page,n=e.currentForum,a=e.activeFilterQueryString;this.context.executeAction(l.c,{filterQueryString:a,sort:t,pageNum:r,forumType:n&&n.forumType.typeName,forumId:n&&n.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})},t.componentWillUpdate=function componentWillUpdate(e,t,r){if(this.props.sort!==e.sort||this.props.page!==e.page||this.props.currentForumId!==e.currentForumId||this.props.activeFilterQueryString!==e.activeFilterQueryString){var n=this.props.currentForum;this.context.executeAction(l.c,{filterQueryString:e.activeFilterQueryString,sort:e.sort,pageNum:e.page,forumType:n&&n.forumType.typeName,forumId:n&&n.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})}},t.render=function render(){var e=this.context.router.isActive({pathname:g.c()});return i.a.createElement("div",{className:"rc-ThreadsList styleguide horizontal-box"},i.a.createElement("div",{className:"flex-2"},i.a.createElement("div",{className:"card-rich-interaction"},i.a.createElement(d.a,{sort:this.props.sort,inSearch:this.state.inSearch,toggleSearch:this.toggleSearch,showSearchBox:!e}),i.a.createElement(p.a,{emptyStatePlaceholderText:F()("No Posts Yet"),fossilized:this.state.inSearch,loadingState:this.props.loadingState},this.props.entries&&this.props.entries.map(this.renderEntry))),i.a.createElement(y.a,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5})))},ThreadsList}(i.a.Component);R.propTypes={courseForums:o.a.arrayOf(o.a.instanceOf(b.a)),mentorForums:o.a.arrayOf(o.a.instanceOf(S.a)),groupForums:o.a.arrayOf(o.a.instanceOf(E.a)),currentForumId:o.a.string,currentForum:o.a.oneOfType([o.a.instanceOf(b.a),o.a.instanceOf(S.a),o.a.instanceOf(E.a)]),sort:o.a.string.isRequired,page:o.a.number.isRequired,entries:o.a.array,loadingState:o.a.oneOf(Object.keys(f.i)),pageCount:o.a.number,activeFilterQueryString:o.a.string,userId:o.a.number,hasModerationRole:o.a.bool,currentForumUrl:o.a.string},R.contextTypes={executeAction:o.a.func.isRequired,router:o.a.object.isRequired},e.a=Object(c.compose)(w()(["SessionFilterStore","ThreadsStore","ApplicationStore"],function(e){var t=e.SessionFilterStore,r=e.ThreadsStore,n=e.ApplicationStore;return{activeFilterQueryString:t.activeFilterQueryString,entries:r.getThreadsPage(),loadingState:r.getLoadingState(),pageCount:r.getPageCount(),userId:n.getUserData().id}}),Object(C.a)({fields:["title","link","forumType"],subcomponents:[m.a]}),Object(x.a)(I.a),Object(T.a)(function(e){return!!(void 0!==e.activeFilterQueryString&&e.sort&&e.page&&e.currentForum)}))(R)},Uwlx:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("BVC1"),d=t("BdrT"),p=t("kwBz"),m=t("BZ+2"),h=t("Fi0Z"),f=t("oQ9N"),g=t("Pzz+"),v=t("hN99"),y=t("u5mk"),b=t("Fmrb"),S=t.n(b),E=t("Or48"),x=t.n(E),I=function(e){function DiscussionsWeekForums(){return e.apply(this,arguments)||this}var t;return n()(DiscussionsWeekForums,e),DiscussionsWeekForums.prototype.render=function render(){var e=this,t=this.props.courseForums.filter(function(e){return e.forumType.typeName===g.j.weekForumType}).map(function(t){var r=e.props.courseForumStatistics.find(function(e){return e.courseForumId===t.id});return Object.assign({},t,{discussionsLink:l.a.join(Object(v.e)(e.props.courseSlug),t.link),lastAnsweredAt:r&&r.lastAnsweredAt,forumQuestionCount:r&&r.forumQuestionCount})});return u.a.createElement(d.a,{className:"rc-DiscussionsWeekForums",title:this.props.customLabelsV2?void 0:S()("Week Forums")},u.a.createElement("ul",null,t.map(function(e){return u.a.createElement("li",{key:e.id},u.a.createElement(p.a,{discussionsLink:e.discussionsLink,title:e.title,description:e.description,lastAnsweredAt:e.lastAnsweredAt,forumQuestionCount:e.forumQuestionCount}))})))},DiscussionsWeekForums}(u.a.Component);I.propTypes={courseForums:i.a.arrayOf(i.a.instanceOf(m.a)),courseForumStatistics:i.a.arrayOf(i.a.instanceOf(h.a)),courseSlug:i.a.string,customLabelsV2:i.a.object},e.a=Object(a.compose)(Object(f.a)({fields:["link","title","description","lastAnsweredAt","forumQuestionCount"]}),y.a)(I)},"V+HZ":function(module,exports,e){var t=e("Av69"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},V5SS:function(module,exports,e){var t=e("VCfi"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},VCHM:function(module,exports,e){var t=e("phg/"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},VCfi:function(module,exports,e){},VR4P:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("BkbU"),u=t("Fmrb"),l=t.n(u),d=t("V5SS"),p=t.n(d),m=function(e){function LandingPageSearchBox(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={query:t.props.query||""},t.onChange=function(e){t.setState({query:e.target.value})},t.onSubmit=function(){t.props.onSubmit(t.state.query)},t.checkForEnter=function(e){"Enter"===e.key&&t.onSubmit()},t}n()(LandingPageSearchBox,e);var t=LandingPageSearchBox.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){e.query!==this.props.query&&this.setState({query:e.query||""})},t.render=function render(){var e=this.state.query;return i.a.createElement("div",{className:"rc-LandingPageSearchBox"},i.a.createElement("div",{className:"search-bar"},i.a.createElement("div",{className:"input-area"},i.a.createElement(c.a,{trackingName:"search_box",placeholder:l()("Search"),className:"search-input",value:e,onChange:this.onChange,onKeyPress:this.checkForEnter,"aria-label":l()("Search Input")})),i.a.createElement("button",{type:"button",className:"search-button",onClick:this.onSubmit,"aria-label":l()("submit search")},i.a.createElement("i",{className:"cif-search","aria-hidden":"true"}))))},LandingPageSearchBox}(i.a.Component);m.propTypes={onSubmit:o.a.func.isRequired,query:o.a.string},e.a=m},VXSL:function(module,exports,e){},VuLx:function(module,exports,e){var t=e("KqFL"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},WnNJ:function(module,exports,e){},X1ub:function(module,exports,e){},X9uR:function(module,exports,e){var t=e("hLEG"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},XD0n:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("oVXz"),d=t("15pW"),p=t("BVC1"),m=t("oQ9N"),h=t("+LJP"),f=t("pqXt"),g=t("BZ+2"),v=t("jpkw"),y=t("1mAk"),b=t.n(y),S=function(e){function LandingPageThreadsViewWrapper(){return e.apply(this,arguments)||this}var t;return n()(LandingPageThreadsViewWrapper,e),LandingPageThreadsViewWrapper.prototype.render=function render(){if(!this.props.currentForum)return null;var e=p.a.join(d.d.learnRoot,this.props.courseSlug,this.props.currentForum.link);return u.a.createElement("div",{className:"rc-LandingPageThreadsViewWrapper"},u.a.createElement(v.a,{id:this.props.currentForum.forumId}),u.a.createElement(l.a,{backLink:e}))},LandingPageThreadsViewWrapper}(u.a.Component);S.propTypes={search:i.a.string,currentForum:i.a.instanceOf(g.a),courseSlug:i.a.string},e.a=Object(a.compose)(Object(m.a)({fields:["link"]}),Object(h.a)(f.a))(S)},Yfwe:function(module,exports,e){},Ym8i:function(module,exports,e){},Zlrn:function(module,exports,e){var t=e("riok"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},ZqD4:function(module,exports,e){var t=e("S5kF"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},ZywA:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("+7k1"),u=t("8cuT"),l=t.n(u),d=t("GP6s"),p=t.n(d),m=t("GfTx"),h=t.n(m);function getTranslations(){return{INSTRUCTOR_CREATED:p()("Instructor Created"),STAFF_CREATED:p()("Staff Created"),INSTRUCTOR_RESPONDED:p()("Instructor Replied"),MENTOR_CREATED:p()("Mentor Created"),STAFF_RESPONDED:p()("Staff Replied"),MENTOR_RESPONDED:p()("Mentor Replied"),HIGHLIGHTED:p()("Highlighted")}}var f=function(e){function ThreadBadge(){return e.apply(this,arguments)||this}var t;return n()(ThreadBadge,e),ThreadBadge.prototype.render=function render(){var e=this.props,t=e.badge,r=e.courseId,n=getTranslations(),a="";if(!(a=Object(c.a)(r)&&"HIGHLIGHTED"===t?n.HIGHLIGHTED:n[t]))return null;return i.a.createElement("span",{className:"rc-ThreadBadge bgcolor-accent-brown-light","aria-label":a},a)},ThreadBadge}(i.a.Component);f.propTypes={badge:o.a.string,courseId:o.a.string},e.a=l()(f,["CourseStore"],function(e){var t;return{courseId:e.CourseStore.getCourseId()}})},ZzvC:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("i58+"),u=t("7GkZ"),l=t("9A5E"),d=t("hN99"),p=t("8yDJ"),m=t("GP6s"),h=t.n(m),f=t("IMZc"),g=t.n(f),v=function(e){function DiscussionsWeekHeroUnit(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).goToForum=function(){var e;t.context.router.push(Object(d.k)(t.props.weekNumber))},t}var t;return n()(DiscussionsWeekHeroUnit,e),DiscussionsWeekHeroUnit.prototype.render=function render(){var e=this.props,t=e.weekNumber,r=e.isLoading,n=e.lastAnsweredAt,a=e.forumQuestionCount,o=e.title,s=e.description;if(!t)return null;return i.a.createElement("div",{className:"rc-CalloutBox card-no-action rc-DiscussionsWeekHeroUnit"},r?i.a.createElement("div",{className:"message align-horizontal-center"},i.a.createElement("i",{className:"cif-spinner cif-spin cif-2x"})):i.a.createElement("div",{className:"horizontal-box vertical-when-mobile"},i.a.createElement("div",{className:"flex-1 left-column"},i.a.createElement("h2",{"aria-label":o,className:"card-headline-text"},o),i.a.createElement(u.a,{cml:s,className:"forum-description"}),i.a.createElement(c.a,{lastAnsweredAt:n,forumQuestionCount:a})),i.a.createElement("div",{className:"align-self-center"},i.a.createElement(l.b,{className:"link-button secondary cozy",href:Object(d.k)(t),trackingName:"discussions_hero_unit"},h()("Go to forum")))))},DiscussionsWeekHeroUnit}(i.a.Component);v.propTypes={title:o.a.string.isRequired,description:p.a.isRequired,weekNumber:o.a.number,isLoading:o.a.bool,lastAnsweredAt:o.a.number,forumQuestionCount:o.a.number},v.contextTypes={router:o.a.object.isRequired},e.a=v},"b/qk":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("GP6s"),u=t.n(c),l=t("wvdd"),d=t("JW2j"),p=t.n(d),m=function(e){function Follow(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).toggleFollowing=function(){var e=t.props.question;e.isFollowing?t.context.executeAction(l.g,{question:e}):t.context.executeAction(l.e,{question:e})},t}var t;return n()(Follow,e),Follow.prototype.render=function render(){var e=this.props.question,t=e.isFollowing,r=e.followError;return i.a.createElement("button",{className:"rc-Follow",onClick:this.toggleFollowing,"aria-pressed":t},i.a.createElement("span",null,t?u()("Unfollow this discussion"):u()("Follow this discussion")," "),r&&i.a.createElement("span",null,u()("Sorry, something went wrong")))},Follow}(i.a.Component);m.propTypes={question:o.a.object.isRequired},m.contextTypes={executeAction:o.a.func.isRequired},e.a=m},b1fn:function(module,exports,e){},bk5p:function(module,exports,e){},ccOk:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("w/1P"),i=t.n(s),c=t("q5zD"),u=t("z+Ik"),l=t("9A5E"),d=t("Fmrb"),p=t.n(d),m=t("VCHM"),h=t.n(m),f=function(e){function DiscussionsGuidelines(){return e.apply(this,arguments)||this}var t;return n()(DiscussionsGuidelines,e),DiscussionsGuidelines.prototype.render=function render(){var e=i()("rc-DiscussionsGuidelines","card-one-clicker","cozy","horizontal-box","align-items-spacebetween","align-items-vertical-center");return o.a.createElement(l.a,{className:"nostyle",trackingName:"DiscussionsGuidelines",href:"https://learner.coursera.help/hc/articles/208280036",target:"_blank"},o.a.createElement("div",{className:e},o.a.createElement("span",{className:"body-1-text"},p()("Forum guidelines")),Object(u.isRightToLeft)()?o.a.createElement(c.a,{name:"chevron-right-thin",rotate:180,size:"lg"}):o.a.createElement(c.a,{name:"chevron-right-thin",size:"lg"})))},DiscussionsGuidelines}(o.a.Component);e.a=f},cgZR:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("GP6s"),u=t.n(c),l=t("foNL"),d=t("gkYY"),p=t("5BZR"),m=t("uZC/"),h=t("zaDB"),f=t.n(h),g=function(e){function ThreadSettings(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={showMoveThreadModal:!1},t.openMoveThreadModal=function(){t.setState({showMoveThreadModal:!0})},t.closeMoveThreadModal=function(){t.setState({showMoveThreadModal:!1})},t}n()(ThreadSettings,e);var t=ThreadSettings.prototype;return t.renderMoveThreadModal=function renderMoveThreadModal(){return i.a.createElement(p.a,{handleClose:this.closeMoveThreadModal,question:this.props.question})},t.renderNonItemEntries=function renderNonItemEntries(){if(this.props.shouldShowMoveThread)return i.a.createElement("button",{className:"nostyle",onClick:this.openMoveThreadModal},u()("Move Thread"));return null},t.render=function render(){var e=[i.a.createElement(l.a,null),i.a.createElement(d.a,null),this.renderNonItemEntries()];return i.a.createElement("div",{className:"rc-ThreadSettings"},i.a.createElement(m.a,{dropdownId:"test",listItems:e,iconName:"settings",iconClassName:"color-secondary-text",label:u()("View dropdown options")}),this.state.showMoveThreadModal&&this.renderMoveThreadModal())},ThreadSettings}(i.a.Component);g.propTypes={question:o.a.object.isRequired,shouldShowMoveThread:o.a.bool},e.a=g},foNL:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("GP6s"),u=t.n(c),l=t("t4rX"),d=t("8cuT"),p=t.n(d),m=function(e){function CloseThreadButton(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).toggleClosed=function(){t.props.isClosed?t.context.executeAction(l.d,{questionId:t.props.questionId,forumType:t.props.forumType}):t.context.executeAction(l.b,{questionId:t.props.questionId,forumType:t.props.forumType})},t}n()(CloseThreadButton,e);var t=CloseThreadButton.prototype;return t.renderErrorState=function renderErrorState(){if(this.props.isError)return i.a.createElement("div",{className:"errorMessage"},u()("Sorry, something went wrong. Try again."));return null},t.render=function render(){return i.a.createElement("button",{className:"rc-CloseThreadButton nostyle",onClick:this.toggleClosed},this.props.isClosed?u()("Undo Close"):u()("Close"),this.renderErrorState())},CloseThreadButton}(i.a.Component);m.propTypes={questionId:o.a.string,forumType:o.a.string,isClosed:o.a.bool,isError:o.a.bool},m.contextTypes={executeAction:o.a.func.isRequired},e.a=p()(m,["ThreadSettingsStore"],function(e){var t=e.ThreadSettingsStore;return{questionId:t.getQuestionId(),forumType:t.getForumType(),isClosed:t.isClosed(),isError:t.isError()}})},fraZ:function(module,exports,e){var t=e("VXSL"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},gkYY:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("GP6s"),u=t.n(c),l=t("t4rX"),d=t("8cuT"),p=t.n(d),m=function(e){function PinThreadButton(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).toggleClosed=function(){t.props.isPinned?t.context.executeAction(l.e,{questionId:t.props.questionId,forumType:t.props.forumType}):t.context.executeAction(l.c,{questionId:t.props.questionId,forumType:t.props.forumType})},t}n()(PinThreadButton,e);var t=PinThreadButton.prototype;return t.renderErrorState=function renderErrorState(){if(this.props.isError)return i.a.createElement("div",{className:"errorMessage"},u()("Sorry, something went wrong. Try again."));return null},t.render=function render(){return i.a.createElement("button",{className:"nostyle rc-PinThreadButton",onClick:this.toggleClosed},this.props.isPinned?u()("Undo Pin"):u()("Pin"),this.renderErrorState())},PinThreadButton}(i.a.Component);m.propTypes={questionId:o.a.string,forumType:o.a.string,isPinned:o.a.bool,isError:o.a.bool},m.contextTypes={executeAction:o.a.func.isRequired},e.a=p()(m,["ThreadSettingsStore"],function(e){var t=e.ThreadSettingsStore;return{questionId:t.getQuestionId(),forumType:t.getForumType(),isPinned:t.isPinned(),isError:t.isError()}})},gn09:function(module,exports,e){var t=e("or+J"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},hBDt:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("xISu"),d=t("Fmrb"),p=t.n(d),m=t("8cuT"),h=t.n(m),f=t("wdve"),g=t("qiY+"),v=t("TSrj"),y=t.n(v),b=function(e){function DiscussionsModerators(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onDisplayMiniProfile=function(e){if(e===t.openMiniProfile)return;void 0!==t.openMiniProfile&&t.openMiniProfile.hide({}),t.openMiniProfile=e},t}n()(DiscussionsModerators,e);var t=DiscussionsModerators.prototype;return t.componentWillMount=function componentWillMount(){var e=this.props.courseId;this.props.staffSocialProfiles.length||this.context.executeAction(f.b,{courseId:e})},t.render=function render(){var e=this,t;if(!this.props.staffSocialProfiles)return null;if(!this.props.staffSocialProfiles.find(function(e){return e.courseRole===g.a.MENTOR||e.courseRole===g.a.TEACHING_STAFF||e.courseRole===g.a.COURSE_ASSISTANT}))return null;return u.a.createElement("div",{className:"rc-DiscussionsModerators card-no-action cozy"},u.a.createElement("div",{className:"label-text color-secondary-text"},p()("Moderators")),u.a.createElement("ul",{className:"moderator-list"},this.props.staffSocialProfiles.map(function(t){return u.a.createElement("li",{className:"staff-profile-container",key:t.id},u.a.createElement(l.a,{onDisplayMiniProfile:e.onDisplayMiniProfile,externalUserId:t.externalUserId,fullName:t.fullName,profileImageUrl:t.photoUrl,courseRole:t.courseRole,helperStatus:t.helperStatus}))})))},DiscussionsModerators}(u.a.Component);b.propTypes={staffSocialProfiles:i.a.arrayOf(i.a.object),courseId:i.a.string},b.contextTypes={executeAction:i.a.func.isRequired},e.a=Object(a.compose)(h()(["CourseStore","ClassmatesProfileStore"],function(e){var t=e.CourseStore,r=e.ClassmatesProfileStore;return{courseId:t.getCourseId(),staffSocialProfiles:r.getStaffProfiles()}}))(b)},hLEG:function(module,exports,e){},hOqv:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("8cuT"),u=t.n(c),l=t("r3QC"),d=t("GX34"),p=t("jhsd"),m=t("GP6s"),h=t.n(m),f=t("OeW9"),g=t.n(f),v=function(e){function HighlightedReply(){return e.apply(this,arguments)||this}var t;return n()(HighlightedReply,e),HighlightedReply.prototype.render=function render(){var e=this.props,t=e.reply,r=e.answerId,n=e.commentId,a=e.forumLink,s=e.fetchAnswerPosition;if(!t||t.hide)return null;return o.a.createElement("div",{className:"rc-HighlightedReply card-rich-interaction"},o.a.createElement(l.a,{label:h()("Highlighted Post")},o.a.createElement("div",{className:"highlighted-reply-content"},o.a.createElement(d.a,{showJumpLink:!0,collapseCommentsByDefault:!0,reply:t,answerId:r,commentId:n,forumLink:a,fetchAnswerPosition:s}))))},HighlightedReply}(o.a.Component);v.propTypes={reply:p.b,answerId:i.a.string,forumLink:i.a.string,commentId:i.a.string,fetchAnswerPosition:i.a.func.isRequired},v.contextTypes={router:i.a.object.isRequired},e.a=u()(v,["ThreadDetailsStore"],function(e,t){var r=e.ThreadDetailsStore,n=t.questionId;return{reply:r.getHighlightedPost(n)}})},hcqh:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("w/1P"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("kvW3"),d=t("7GkZ"),p=t("ADs+"),m=t("xISu"),h=t("umSv"),f=t("4nQ0"),g=t("NfOa"),v=t("AiSA"),y=t("eq81"),b=t("lxgr"),S=t("21aQ"),E=t("b/qk"),x=t("RurG"),I=t("V4Vm"),C=t("KMW/"),T=t("GP6s"),N=t.n(T),w=t("Zlrn"),q=t.n(w),F=function(e){function DetailedQuestion(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onDeleteSuccess=function(e){var r=t.props.forumLink;e||t.context.router.replace(r)},t}var t;return n()(DetailedQuestion,e),DetailedQuestion.prototype.render=function render(){var e=this.props,t=e.question,r=e.forumLink,n=e.isPinned,a=e.goToInput;if(!t)return null;var s=t.flagDetails&&t.flagDetails.isActive||t.isFlagged,i=o()("headline-3-text question-header",{flagged:s}),c=o()({flagged:s}),T=t.creator,w=Object(I.b)(t),q=C.a.get("FlexSupport","customLabelsEnabled",{course_id:t.courseId});return u.a.createElement("div",{className:"rc-DetailedQuestion card-rich-interaction horizontal-box"},u.a.createElement("div",{id:w,className:"screenreader-only pii-hide"},u.a.createElement(l.b,{message:N()("{name}'s Post"),name:T.fullName})),u.a.createElement("div",{className:"profile"},u.a.createElement(m.a,{externalUserId:T.externalUserId,fullName:T.fullName,profileImageUrl:T.isDefaultPhoto?"":T.photoUrl||"",courseRole:T.courseRole,helperStatus:T.helperStatus})),u.a.createElement("div",{className:"flex-1"},u.a.createElement("div",{className:"horizontal-box"},u.a.createElement("h2",{className:i},t.content.question),n&&u.a.createElement("i",{className:"cif-pin cif-lg pin"})),u.a.createElement("div",{className:"metadata caption-text color-secondary-text"},u.a.createElement(b.a,{fullName:T.fullName,externalId:T.externalUserId,ariaHidden:!0}),u.a.createElement(f.a,{creator:T}),!q&&u.a.createElement(g.a,{question:t}),u.a.createElement("span",null," · "),u.a.createElement(v.a,{post:t,forumLink:r}),u.a.createElement(y.a,{post:t})),u.a.createElement("div",{className:c},u.a.createElement(d.a,{cml:t.content.details,className:c})),u.a.createElement("div",{className:"action-area horizontal-box align-items-vertical-center caption-text color-secondary-text"},u.a.createElement(S.a,{post:t}),u.a.createElement(x.a,{handleClick:a,text:N()("Reply"),creator:T}),u.a.createElement(E.a,{question:t}))),u.a.createElement(h.a,{post:t}),u.a.createElement(p.a,{onDeleteSuccess:this.onDeleteSuccess,creator:T,post:t,forumLink:r,ariaDescribedBy:w}))},DetailedQuestion}(u.a.Component);F.propTypes={goToInput:i.a.func.isRequired,question:i.a.object,isPinned:i.a.bool,forumLink:i.a.string},F.contextTypes={router:i.a.object.isRequired},e.a=F},hx6z:function(module,exports,e){var t=e("Rz2x"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"i58+":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("wd/R"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("kvW3"),d=t("GP6s"),p=t.n(d),m=function(e){function WeekStats(){return e.apply(this,arguments)||this}var t;return n()(WeekStats,e),WeekStats.prototype.render=function render(){var e=this.props,t=e.lastAnsweredAt,r=e.forumQuestionCount;return u.a.createElement("div",{className:"rc-WeekStats caption-text color-secondary-text"},"number"==typeof r&&u.a.createElement(l.b,{message:p()("{forumQuestionCount} threads"),forumQuestionCount:r}),!!t&&u.a.createElement("span",null,"number"==typeof r&&u.a.createElement("span",null," · "),u.a.createElement(l.b,{message:p()("Last post {timeSinceLastPost}"),timeSinceLastPost:o()(t).fromNow()})))},WeekStats}(u.a.Component);m.propTypes={lastAnsweredAt:i.a.number,forumQuestionCount:i.a.number},e.a=m},jWeT:function(module,e,t){"use strict";var r=t("CWYE");e.a=Object(r.a)("/api/onDemandDiscussionQuestions.v1/",{type:"rest"})},jZX6:function(module,exports,e){},jpkw:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("q5zD"),d=t("Fmrb"),p=t.n(d),m=t("kvW3"),h=t("8cuT"),f=t.n(h),g=t("+LJP"),v=t("Pzz+"),y=t("3gP/"),b=t.n(y),S=function(e){function LandingPageSearchResultsSummary(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).cancelSearchResults=function(){t.context.router.push({pathname:t.context.router.location.pathname,params:t.context.router.params,query:{}})},t}var t;return n()(LandingPageSearchResultsSummary,e),LandingPageSearchResultsSummary.prototype.render=function render(){var e=this.props,t=e.numResults,r=e.query,n=e.loadingState;if(!r)return null;return u.a.createElement("div",{className:"rc-LandingPageSearchResultsSummary horizontal-box align-items-spacebetween bgcolor-black-g1"},u.a.createElement("div",{className:"search-results","aria-live":"polite",id:"landing-page-search-results"},n===v.i.DONE?u.a.createElement(m.a,{message:p()("{numResults} {numResults, plural,\n              =1 {search result} =0 {0 search results} other {search results}} for {query}"),numResults:t,query:u.a.createElement("strong",null,r)}):u.a.createElement(m.b,{message:p()("Loading search results...")})),u.a.createElement("button",{type:"button",onClick:this.cancelSearchResults,className:"nostyle cancel-button"},u.a.createElement(l.a,{name:"close",className:"color-secondary-text"})))},LandingPageSearchResultsSummary}(u.a.Component);S.propTypes={id:i.a.string,query:i.a.string,numResults:i.a.number,loadingState:i.a.oneOf(Object.keys(v.i))},S.contextTypes={router:i.a.object.isRequired},e.a=Object(a.compose)(Object(g.a)(function(e){return{query:e.location.query.q&&decodeURIComponent(e.location.query.q)}}),f()(["DiscussionsSearchStore"],function(e,t){var r=e.DiscussionsSearchStore;return{numResults:r.getNumResults({forumId:t.id,query:t.query}),loadingState:r.loadingState}}))(S)},kwBz:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("eJMc"),u=t.n(c),l=t("wd/R"),d=t.n(l),p=t("q5zD"),m=t("kvW3"),h=t("8yDJ"),f=t("7GkZ"),g=t("h4VP"),v=t("Fmrb"),y=t.n(v),b=t("z+Ik"),S=t("hx6z"),E=t.n(S),x=function(e){function ForumsLabel(){return e.apply(this,arguments)||this}var t;return n()(ForumsLabel,e),ForumsLabel.prototype.render=function render(){var e=this.props,t=e.discussionsLink,r=e.title,n=e.description,a=e.lastAnsweredAt,o=e.forumQuestionCount,s="number"==typeof o,c=!!a,l=1===o?y()("thread"):y()("threads"),h=n.definition.value,v=h.startsWith("<co-content>")&&h.endsWith("</co-content>"),S=!g.c.isEmpty(n)&&v,E="Forum: ".concat(r,"\n                       ").concat(S?g.c.getInnerText(n):"","\n                       ").concat(c?"Last Post: ".concat(d()(a).fromNow()):"","\n                       ").concat(s?"".concat(o," ").concat(l):"");return i.a.createElement(u.a,{className:"rc-ForumsLabel nostyle",to:t,"aria-label":E},i.a.createElement("div",{className:"forum-item horizontal-box align-items-vertical-center"},i.a.createElement("div",{className:"flex-1 forum-title-box"},i.a.createElement("p",{className:"headline-3-text"},r),!g.c.isEmpty(n)&&i.a.createElement(f.a,{cml:n}),c&&i.a.createElement("span",{className:"caption-text color-secondary-text"},i.a.createElement(m.b,{message:y()("Last post {timeAgo}"),timeAgo:d()(a).fromNow()}))),s&&i.a.createElement("div",{className:"threads-count vertical-box align-items-absolute-center"},i.a.createElement("span",{className:"headline-1-text"},o),i.a.createElement("span",{className:"caption-text color-secondary-text"},l)),Object(b.isRightToLeft)(y.a.getLocale())?i.a.createElement(p.a,{className:"chevron-icon",name:"chevron-right-thin",rotate:180}):i.a.createElement(p.a,{className:"chevron-icon",name:"chevron-right-thin"})))},ForumsLabel}(i.a.Component);x.propTypes={discussionsLink:o.a.string.isRequired,title:o.a.string.isRequired,description:h.a.isRequired,lastAnsweredAt:o.a.number,forumQuestionCount:o.a.number},e.a=x},luxz:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("juwT"),u=t("I7A3"),l=function(e){function PhoenixEnrollModal(){return e.apply(this,arguments)||this}n()(PhoenixEnrollModal,e);var t=PhoenixEnrollModal.prototype;return t.componentDidMount=function componentDidMount(){var e=this.context.course;c.a.setLocation("/learn/".concat(e.get("slug"),"?action=enroll"))},t.render=function render(){return!1},PhoenixEnrollModal}(i.a.Component);l.contextTypes={course:o.a.instanceOf(u.a).isRequired},e.a=l},m8We:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("G0vJ"),u=t("9A5E"),l=t("YCpq"),d=t("uyIS"),p=t("H0jp"),m=t.n(p),h=t("I7A3"),f=function(e){function PhoenixEnrollButton(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={shouldShow:!1,ownsCourse:!1},t}n()(PhoenixEnrollButton,e);var t=PhoenixEnrollButton.prototype;return t.componentDidMount=function componentDidMount(){var e=this;l.a.get("authenticated")?Object(d.a)(l.a.get("id"),this.context.course.get("id")).then(function(t){return e.setState({ownsCourse:t.get("owns")})}).finally(function(){return e.setState({shouldShow:!0})}):this.setState({shouldShow:!0})},t.render=function render(){if(!this.state.shouldShow)return null;var e="rc-PhoenixEnrollButton",t=this.context.course;return i.a.createElement(c.a,{courseId:t.get("id"),className:e})},PhoenixEnrollButton}(i.a.Component);f.propTypes={redirectUrlAfterAuth:o.a.string},f.contextTypes={course:o.a.instanceOf(h.a).isRequired},e.a=f},nMHw:function(module,exports,e){var t=e("Yfwe"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},nPwH:function(module,e,t){"use strict";t.r(e),t.d(e,"epics",function(){return I});var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("F/us"),i=t.n(s),c=t("vtBp"),u=t("+LJP"),l=t("Uwlx"),d=t("1Ovw"),p=t("DA3A"),m=t("CrSL"),h=t("JzMB"),f=t("XD0n"),g=t("oQ9N"),v=t("BhsZ"),y=t("2mdD"),b=t("KMW/"),S=t("5zCu"),E=t.n(S),x=function(e){function DiscussionsLandingPage(){return e.apply(this,arguments)||this}n()(DiscussionsLandingPage,e);var t=DiscussionsLandingPage.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.addToHelper,r=e.userId,n=e.courseId,a=e.maybeAddHelpers,o;t&&a({variables:{helperId:"".concat(r,"~").concat(n)}})},t.render=function render(){var e=this.props.addToHelper;return o.a.createElement("div",{className:"rc-DiscussionsLandingPage"},e&&o.a.createElement(y.a,null),o.a.createElement(p.a,null),o.a.createElement(d.a,null),o.a.createElement("div",{className:"horizontal-box vertical-when-mobile"},o.a.createElement(m.a,{className:"flex-2"}),o.a.createElement(h.a,{className:"flex-1"})))},DiscussionsLandingPage}(o.a.Component);e.default=Object(s.compose)(Object(g.a)({fields:[],subcomponents:[c.a,l.a,f.a]}),Object(u.a)(function(e){var t;return{addToHelper:"true"===e.location.query.addToHelper}}),v.a)(x);var I={discussionForumsDesignV2Enabled:function discussionForumsDesignV2Enabled(){return b.a.get("learnerRedPandas","discussionForumsDesignV2Enabled")}}},oFFI:function(module,exports,e){var t=e("WnNJ"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},oVXz:function(module,e,t){"use strict";t.d(e,"a",function(){return A});var r=t("pVnL"),n=t.n(r),a=t("VbXa"),o=t.n(a),s=t("oYk5"),i=t.n(s),c=t("17x9"),u=t.n(c),l=t("q1tI"),d=t.n(l),p=t("F/us"),m=t.n(p),h=t("fw5G"),f=t.n(h),g=t("w/1P"),v=t.n(g),y=t("L1vm"),b=t("Pzz+"),S=t("UVOs"),E=t("5VK0"),x=t("ypD2"),I=t("k01U"),C=t("8cuT"),T=t.n(C),N=t("+LJP"),w=t("ngyh"),q=t.n(w),F=t("UU2Q"),P=t("GP6s"),k=t.n(P),D=function(e){o()(DiscussionsBody,e);var t=DiscussionsBody.prototype;function DiscussionsBody(t,r){var n;return(n=e.call(this,t,r)||this).state={},!t.isSessionsFilterStoreSetup&&t.hasModerationRole&&r.executeAction(I.a,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),t.isSessionsFilterStoreSetup||t.hasModerationRole||r.executeAction(I.b,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),n}return t.getChildContext=function getChildContext(){return{fluxibleContext:this.context.fluxibleContext||this.props.fluxibleContext}},t.componentWillReceiveProps=function componentWillReceiveProps(e){!this.props.questionId&&e.questionId&&this.props.listPage?this.setState({previousListPage:this.props.listPage}):this.props.questionId!==e.questionId&&this.setState({previousListPage:null})},t.renderSearchResults=function renderSearchResults(){var e=this,t=this.props,r=t.searchPage,n=t.q;return d.a.createElement(x.a,{query:n,page:r,ref:function ref(t){e.searchResults=t}})},t.renderThreadsList=function renderThreadsList(){var e=this,t=this.props,r=t.hasModerationRole,n=t.listPage,a=t.listSort;return d.a.createElement(S.a,{ref:function ref(t){e.threadsList=t},hasModerationRole:r,sort:a,page:n})},t.renderThreadDetail=function renderThreadDetail(){var e=this,t=this.props,r=t.questionId,n=t.answerId,a=t.commentId,o=t.detailPage,s=t.detailSort,i=t.listSort,c=t.listPage,u=t.q,l=t.backLink,p=new f.a(l).addQueryParam("sort",i).addQueryParam("page",this.state.previousListPage||c).addQueryParam("q",u).toString();return d.a.createElement(E.a,{ref:function ref(t){e.threadDetail=t},questionId:r,answerId:n,commentId:a,sort:s,page:o,backLink:p})},t.render=function render(){var e=this.props.q,t=this.props,r=t.role,a=t.questionId;return d.a.createElement("div",n()({className:v()("rc-DiscussionsBody","styleguide",this.props.className),id:"discussions-tabpanel","aria-label":k()("Discussions")},r?{role:r}:{}),a&&this.renderThreadDetail(),!a&&(e?this.renderSearchResults():this.renderThreadsList()))},DiscussionsBody}(d.a.Component);D.propTypes={backLink:u.a.string,className:u.a.string,questionId:u.a.string,answerId:u.a.string,commentId:u.a.string,sort:u.a.string,page:u.a.number,detailSort:u.a.string,detailPage:u.a.number,listSort:u.a.string,listPage:u.a.number,q:u.a.string,searchPage:u.a.number,fluxibleContext:u.a.object,courseId:u.a.string,currentSessionId:u.a.string,hasModerationRole:u.a.bool,isPrivateSession:u.a.bool,isSessionsFilterStoreSetup:u.a.bool},D.contextTypes={router:u.a.object.isRequired,fluxibleContext:u.a.object,executeAction:u.a.func.isRequired},D.childContextTypes={fluxibleContext:u.a.object},D.defaultProps={detailSort:b.f.detailSort,detailPage:b.f.detailPage,listSort:b.f.listSort,listPage:b.f.listPage};var O=function getPropsFromRouter(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.params,n=e.location.query,a=r.question_id||t.questionId,o=n.page?parseInt(n.page,10):1,s={answerId:r.answer_id||t.answerId,questionId:a,commentId:r.comment_id||t.commentId,sort:n.sort,page:o};return a?Object.assign(s,{detailSort:n.sort,detailPage:o}):n.q?Object.assign(s,{q:n.q,searchPage:o}):Object.assign(s,{listSort:n.sort,listPage:o}),s},R=Object(p.compose)(T()(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],function(e,t){var r=e.SessionFilterStore,n=e.SessionStore,a=e.CourseStore,o=e.CourseMembershipStore,s=e.ApplicationStore;return{hasModerationRole:o.hasModerationRole()||s.isSuperuser(),isSessionsFilterStoreSetup:r.filtersLoaded,currentSessionId:n.isEnrolled()?n.getSessionId():void 0,courseId:a.getCourseId(),isPrivateSession:!!n.isEnrolled()&&n.isSessionPrivate()}}),Object(N.a)(O),y.a.createTrackedContainer(function(e){return{sort:e.sort,page:e.page}}))(D),A=function(e){function FluxibleConnectedDiscussionsBody(){return e.apply(this,arguments)||this}o()(FluxibleConnectedDiscussionsBody,e);var t=FluxibleConnectedDiscussionsBody.prototype;return t.componentWillMount=function componentWillMount(){this.fluxibleContext=Object(F.a)(this.context.fluxibleContext)},t.render=function render(){return d.a.createElement(q.a,{context:this.fluxibleContext.getComponentContext()},d.a.createElement(R,this.props))},FluxibleConnectedDiscussionsBody}(d.a.Component);A.contextTypes={fluxibleContext:u.a.object}},"or+J":function(module,exports,e){},pPKs:function(module,exports,e){},"phg/":function(module,exports,e){},qi8C:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("BVC1"),u=t("BdrT"),l=t("kwBz"),d=t("Fmrb"),p=t.n(d),m=t("q5zD"),h=t("vpZN"),f=t("oQ9N"),g=t("3FHc"),v=t.n(g),y=function(e){function DiscussionsGroupForums(){return e.apply(this,arguments)||this}var t;return n()(DiscussionsGroupForums,e),DiscussionsGroupForums.prototype.render=function render(){var e=this.props,t=e.groupForums,r=e.groupForumStatistics,n=e.courseSlug;if(!t||!t.length)return null;var a=t.map(function(e){var t=r.find(function(t){return t.id===e.id});return{id:e.id,discussionsLink:c.a.join(Object(h.c)(n),e.link),title:e.title,description:e.description,lastAnsweredAt:t&&t.lastAnsweredAt,forumQuestionCount:t&&t.forumQuestionCount}});return i.a.createElement(u.a,{className:"rc-DiscussionsGroupForums",title:i.a.createElement("span",null,i.a.createElement(m.a,{name:"lock"}),p()("Private Group Forums"))},i.a.createElement("ul",null,a.map(function(e){return i.a.createElement("li",{key:e.id},i.a.createElement(l.a,{discussionsLink:e.discussionsLink,title:e.title,description:e.description,lastAnsweredAt:e.lastAnsweredAt,forumQuestionCount:e.forumQuestionCount}))})))},DiscussionsGroupForums}(i.a.Component);e.a=o.a.compose(Object(f.a)({fields:["link","title","description","parentForumId"]}))(y)},r3QC:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("w/1P"),u=t.n(c),l=t("8MAB"),d=t.n(l),p=function(e){function CalloutBox(){return e.apply(this,arguments)||this}var t;return n()(CalloutBox,e),CalloutBox.prototype.render=function render(){var e=this.props,t=e.className,r=e.label,n=e.children;return i.a.createElement("div",{className:u()("rc-CalloutBox card-no-action selected",t)},r&&i.a.createElement("h3",{className:"callout-box-label label-text"},r),i.a.createElement("div",null,n))},CalloutBox}(i.a.Component);p.propTypes={className:o.a.string,children:o.a.node,label:o.a.node},e.a=p},"rZ/L":function(module,exports,e){},riok:function(module,exports,e){},sxym:function(module,exports,e){var t=e("0U4Y"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},tpUz:function(module,exports,e){var t=e("90Fz"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},vtBp:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("F/us"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("BVC1"),d=t("BdrT"),p=t("kwBz"),m=t("BZ+2"),h=t("zFZo"),f=t("Fi0Z"),g=t("Pzz+"),v=t("hN99"),y=t("oQ9N"),b=t("Fmrb"),S=t.n(b),E=t("PDXH"),x=t.n(E),I=function(e){function DiscussionsCourseForums(){return e.apply(this,arguments)||this}var t;return n()(DiscussionsCourseForums,e),DiscussionsCourseForums.prototype.render=function render(){var e=this.props,t=e.courseForums,r=e.mentorForums,n=e.courseForumStatistics,a=e.courseSlug,o=t.find(function(e){return e.forumType.typeName===g.j.rootForumType}),s=r.filter(function(e){return!e.parentForumId}),i=t.filter(function(e){return e.parentForumId===o.id&&e.forumType.typeName===g.j.customForumType}),c=s.concat(i).map(function(e){var t=n.find(function(t){return t.courseForumId===e.id});return Object.assign(e,{discussionsLink:l.a.join(Object(v.e)(a),e.link),lastAnsweredAt:t&&t.lastAnsweredAt,forumQuestionCount:t&&t.forumQuestionCount})});if(0===c.length)return null;return u.a.createElement(d.a,{title:S()("Discussion Forums"),className:"rc-DiscussionsCourseForums"},u.a.createElement("ul",null,c.map(function(e){return u.a.createElement("li",{key:e.id},u.a.createElement(p.a,{discussionsLink:e.discussionsLink,title:e.title,description:e.description,lastAnsweredAt:e.lastAnsweredAt,forumQuestionCount:e.forumQuestionCount}))})))},DiscussionsCourseForums}(u.a.Component);I.propTypes={courseForums:i.a.arrayOf(i.a.instanceOf(m.a)),mentorForums:i.a.arrayOf(i.a.instanceOf(h.a)),courseForumStatistics:i.a.arrayOf(i.a.instanceOf(f.a)),courseSlug:i.a.string},e.a=Object(a.compose)(Object(y.a)({fields:["link","title","description","lastAnsweredAt","forumQuestionCount","parentForumId"]}))(I)},"w1Z+":function(module,exports,e){},w7XQ:function(module,exports,e){},ypD2:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),a=t("VbXa"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("17x9"),u=t.n(c),l=t("MnCE"),d=t("Pzz+"),p=t("JRPf"),m=t("WKvM"),h=t("zRby"),f=t("HcWw"),g=t("GImH"),v=t("BVC1"),y=t("+LJP"),b=t("8cuT"),S=t.n(b),E=t("jsrg"),x=t("hN99"),I=t("pqXt"),C=t("oQ9N"),T=t("kvW3"),N=t("GP6s"),w=t.n(N),q=t("X9uR"),F=t.n(q),P=t("N43y"),k=t.n(P);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var D=function(e){function SearchResults(t,r){var n,a;((n=e.call(this,t,r)||this).handleQueryChange=function(e){n.setState({query:e})},n.handleSearchCourse=function(e){var t=n.state.query,r=n.props.rootPath,a=n.context.router;e.preventDefault();var o=v.a.join(null!=r?r:[],"discussions/all");a.push({pathname:o,params:{},query:{q:t}})},n.onPageChange=function(e){var t=n.props,r=t.query,a=t.currentForum,o=t.contextId,s=t.hasModerationRole,i=n.context,c=i.router,u=i.executeAction;c.push({pathname:c.location.pathname,params:{},query:Object.assign(c.location.query,{page:e})}),u(p.a.goToPage,{query:r,pageNum:e,forumId:a.forumId,contextId:o,forumType:a.forumType.typeName,includeDeleted:s})},n.submitSearch=function(){var e=n.state.query,t=n.context.router;if(e){var r=e.replace("*","");t.push({pathname:window.location.pathname,params:{},query:{q:r}})}},n.navigateBack=function(e){var t=n.context.router,r=n.props.currentForumUrl;e.preventDefault(),t.push(r)},n.state={query:t.query||""},t.query)&&(0,n.context.executeAction)(p.a.search,{query:t.query,filterQueryString:t.filterQueryString,pageNum:t.page,forumId:t.currentForum.forumId,contextId:t.contextId,forumType:t.currentForum.forumType.typeName,reset:!0,includeDeleted:t.hasModerationRole});return n}o()(SearchResults,e);var t=SearchResults.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,r=t.query,n=t.pathname,a=t.currentForum,o=t.filterQueryString,s=t.page,i=this.context.executeAction;e.query===r&&e.pathname===n&&e.currentForum.id===a.id&&e.filterQueryString===o||(this.setState({query:e.query}),i(p.a.search,{query:e.query,filterQueryString:e.filterQueryString,pageNum:s,forumId:e.currentForum.forumId,contextId:e.contextId,forumType:e.currentForum.forumType.typeName,reset:o!==e.filterQueryString,includeDeleted:e.hasModerationRole}))},t.render=function render(){var e=this.props,t=e.currentForum,r=e.currentForumUrl,n=e.loadingState,a=e.numResults,o=e.currentResults,s=e.page,c=e.pageCount,u=e.query,l=this.state.query,p=this.context.router,v=p.isActive({pathname:Object(x.c)()}),y=!!p.params.item_id,b=!v&&!y,S=t.title,E=r,I=n===d.i.DONE?w()("#{numResults} search results in #{displayName}",{numResults:a,displayName:S}):w()("Finding search results in #{displayName}",{displayName:S}),C,N=i.a.createElement("button",{onClick:this.handleSearchCourse,className:"nostyle search-course-link button-link",type:"button"},w()("Search All Discussions")),q=i.a.createElement("div",{className:"results-metadata bgcolor-black-g1"},i.a.createElement("span",{className:"color-secondary-text","aria-live":"polite"},n===d.i.DONE?i.a.createElement("span",null,I):i.a.createElement(T.b,{message:w()("Finding search results in {displayName}"),displayName:S}),b&&" • ",b&&N));return n===d.i.DONE&&o.length>0&&(C=o.map(function(e,r){return i.a.createElement(f.a,{key:e.id,index:r,entry:_objectSpread(_objectSpread({},e),{},{forumId:null==t?void 0:t.forumId}),page:s,query:u,forumLink:E})})),i.a.createElement("div",{className:"rc-DiscussionsSearchResults"},i.a.createElement("div",{className:"results-container card-rich-interaction"},!v&&i.a.createElement("div",{className:"bgcolor-black-g1"},i.a.createElement("button",{onClick:this.navigateBack,className:"nostyle back-area button-link",type:"button"},i.a.createElement("div",{className:"back-arrow"},i.a.createElement("i",{className:"cif-arrow-left back-arrow-image"})),i.a.createElement("span",{className:"back-label body-2-text"},w()("Back to #{displayName}",{displayName:S})))),!v&&i.a.createElement(h.a,{query:l,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange}),!v&&q,i.a.createElement(m.a,{loadingState:n},C)),i.a.createElement(g.a,{onPageChange:this.onPageChange,pageCount:c,currentPage:s,maxPages:5}))},SearchResults}(i.a.Component);D.contextTypes={executeAction:u.a.func.isRequired,router:u.a.object.isRequired},e.a=Object(l.compose)(Object(y.a)(function(e){return{query:decodeURIComponent(e.location.query.q),pathname:e.location.pathname}}),Object(C.a)({fields:["title","link","forumType"]}),Object(y.a)(I.a),S()(["DiscussionsSearchStore","SessionFilterStore"],function(e,t){var r=e.DiscussionsSearchStore,n=e.SessionFilterStore,a=t.currentForum.forumId;return{filterQueryString:n.activeFilterQueryString,currentResults:r.searchResults({forumId:a,query:t.query,pageNum:r.currentPage}),loadingState:r.loadingState,pageCount:r.getPageCount({forumId:a,query:t.query}),numResults:r.getNumResults({forumId:a,query:t.query})}}),Object(E.a)(function(e){return e.currentForum}))(D)},zRby:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("GP6s"),u=t.n(c),l=t("BkbU"),d=t("998c"),p=t.n(d),m=function(e){function SearchBar(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleChange=function(e){var r,n;(0,t.props.handleChange)(e.target.value)},t.handleSubmitClick=function(e){var r;e.preventDefault(),(0,t.props.handleSubmit)()},t.handleClear=function(){var e=t.context.router,r=e.location,n=r.query,a=r.pathname,o=e.params,s=t.props,i=s.handleBlur,c=s.handleClear;n.q||i(),c(),delete n.q,e.push({pathname:a,params:o,query:n})},t.handleBlur=function(){var e=t.props.handleBlur;e&&e()},t.handleKeyDown=function(e){var r=t.props,n=r.handleSubmit,a=r.handleBlur,o=r.handleShiftTab;switch(e.key){case"Enter":n();break;case"Tab":e.shiftKey&&a&&(a(),o(e))}},t.handleClearKeyDown=function(e){var r=t.props,n=r.handleBlur,a=r.handleShiftTab;switch(e.key){case"Enter":t.handleClear();break;case"Tab":e.shiftKey&&n&&(n(),a(e))}},t.submitKeyDown=function(e){var r=t.props,n=r.handleTab,a=r.handleShiftTab,o=r.handleSubmit;"Tab"===e.key?e.shiftKey?a(e):n(e):"Enter"!==e.key&&" "!==e.key||o()},t}var t;return n()(SearchBar,e),SearchBar.prototype.render=function render(){var e=this,t=this.props.query,r=a.createElement("i",{role:"button",onMouseDown:this.handleClear,tabIndex:0,onKeyDown:this.handleClearKeyDown,className:"cif-cancel-hint close-icon","aria-label":u()("Clear Search")});return a.createElement("div",{className:"rc-SearchBar search-bar expand-block expanded flex-1"},a.createElement("div",{className:"input-area"},a.createElement(l.a,{trackingName:"search_bar",value:t,onChange:this.handleChange,onKeyDown:this.handleKeyDown,ref:function ref(t){e.searchbox=t},placeholder:u()("Search"),"aria-label":u()("Search Input"),className:"search-input"}),"string"==typeof t&&r,a.createElement("button",{type:"button",onMouseDown:this.handleSubmitClick,onKeyDown:this.submitKeyDown,onBlur:this.handleBlur,className:"search-button","aria-label":u()("submit search")},a.createElement("i",{className:"cif-search"}))))},SearchBar}(a.Component);m.contextTypes={router:i.a.object.isRequired},m.defaultProps={handleBlur:function handleBlur(){},handleTab:function handleTab(){},handleShiftTab:function handleShiftTab(){},handleClear:function handleClear(){}},e.a=m},zaDB:function(module,exports,e){var t=e("9ziX"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)}}]);
//# sourceMappingURL=32.2a1937bc7c766967e5a5.js.map